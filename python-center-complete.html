<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pythonå­¦ä¹ ä¸­å¿ƒ - å®Œæ•´ç‰ˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5.65.16/lib/codemirror.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5.65.16/mode/python/python.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/codemirror@5.65.16/lib/codemirror.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/codemirror@5.65.16/theme/monokai.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-dark: #0f172a;
            --primary-blue: #00f5ff;
            --primary-purple: #6366f1;
            --accent-green: #10b981;
            --accent-orange: #f59e0b;
            --text-light: #f8fafc;
            --text-gray: #94a3b8;
            --gradient-primary: linear-gradient(135deg, #00f5ff 0%, #6366f1 100%);
            --gradient-secondary: linear-gradient(135deg, #10b981 0%, #059669 100%);
            --gradient-accent: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        }
        
        * {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        }
        
        .font-mono {
            font-family: 'JetBrains Mono', monospace;
        }
        
        body {
            background: var(--primary-dark);
            color: var(--text-light);
            overflow-x: hidden;
        }
        
        .gradient-text {
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .gradient-text-green {
            background: var(--gradient-secondary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            transition: all 0.3s ease;
        }
        
        .glass-card:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(0, 245, 255, 0.3);
            transform: translateY(-4px);
            box-shadow: 0 12px 40px rgba(0, 245, 255, 0.15);
        }
        
        .btn-primary {
            background: var(--gradient-primary);
            border: none;
            border-radius: 16px;
            color: white;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 245, 255, 0.3);
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 245, 255, 0.4);
        }
        
        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 16px;
            color: white;
            transition: all 0.3s ease;
        }
        
        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }
        
        .nav-link {
            position: relative;
            color: var(--text-gray);
            transition: all 0.3s ease;
        }
        
        .nav-link:hover {
            color: var(--primary-blue);
        }
        
        .nav-link.active {
            color: var(--primary-blue);
        }
        
        .nav-link.active::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--gradient-primary);
            border-radius: 1px;
        }
        
        .sidebar {
            background: rgba(15, 23, 42, 0.8);
            backdrop-filter: blur(20px);
            border-right: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .chapter-item {
            padding: 1rem;
            border-radius: 12px;
            margin-bottom: 0.5rem;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .chapter-item:hover {
            background: rgba(255, 255, 255, 0.05);
        }
        
        .chapter-item.active {
            background: rgba(0, 245, 255, 0.1);
            border: 1px solid rgba(0, 245, 255, 0.3);
        }
        
        .chapter-item.completed {
            background: rgba(16, 185, 129, 0.1);
            border: 1px solid rgba(16, 185, 129, 0.3);
        }
        
        .code-editor {
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .code-editor .CodeMirror {
            height: 300px;
            font-size: 14px;
            background: #1e293b;
            color: #e2e8f0;
        }
        
        .code-editor .CodeMirror-gutters {
            background: #334155;
            border-right: 1px solid #475569;
        }
        
        .code-editor .CodeMirror-linenumber {
            color: #64748b;
        }
        
        .code-block {
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 1.5rem;
            font-family: 'JetBrains Mono', monospace;
            font-size: 14px;
            line-height: 1.6;
            overflow-x: auto;
        }
        
        .code-block .keyword {
            color: #00f5ff;
        }
        
        .code-block .string {
            color: #10b981;
        }
        
        .code-block .comment {
            color: #64748b;
        }
        
        .code-block .function {
            color: #f59e0b;
        }
        
        .code-block .number {
            color: #8b5cf6;
        }
        
        .progress-bar {
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: var(--gradient-primary);
            border-radius: 4px;
            transition: width 0.3s ease;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(30, 41, 59, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 16px 24px;
            color: white;
            font-weight: 500;
            z-index: 3000;
            opacity: 0;
            transform: translateX(100%);
            transition: all 0.3s ease;
        }
        
        .notification.show {
            opacity: 1;
            transform: translateX(0);
        }
        
        .notification.success {
            border-color: rgba(34, 197, 94, 0.5);
            background: rgba(34, 197, 94, 0.1);
        }
        
        .notification.error {
            border-color: rgba(239, 68, 68, 0.5);
            background: rgba(239, 68, 68, 0.1);
        }
        
        .quiz-option {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 1rem;
            margin-bottom: 0.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .quiz-option:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(0, 245, 255, 0.3);
        }
        
        .quiz-option.selected {
            background: rgba(0, 245, 255, 0.1);
            border-color: rgba(0, 245, 255, 0.5);
        }
        
        .quiz-option.correct {
            background: rgba(16, 185, 129, 0.1);
            border-color: rgba(16, 185, 129, 0.5);
        }
        
        .quiz-option.incorrect {
            background: rgba(239, 68, 68, 0.1);
            border-color: rgba(239, 68, 68, 0.5);
        }
        
        @media (max-width: 768px) {
            .sidebar {
                position: fixed;
                top: 0;
                left: -100%;
                width: 100%;
                height: 100%;
                z-index: 1000;
                transition: left 0.3s ease;
            }
            
            .sidebar.open {
                left: 0;
            }
        }
    </style>
</head>
<body>
    <!-- å¯¼èˆªæ  -->
    <nav class="fixed top-0 left-0 right-0 z-50 bg-slate-900/80 backdrop-blur-md border-b border-white/10">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center">
                    <div class="w-10 h-10 rounded-lg bg-gradient-to-r from-green-400 to-teal-500 flex items-center justify-center mr-3">
                        <span class="text-white font-bold text-lg">Py</span>
                    </div>
                    <h1 class="text-xl font-bold gradient-text-green">Pythonå­¦ä¹ ä¸­å¿ƒ</h1>
                </div>
                <div class="hidden md:flex items-center space-x-8">
                    <a href="index.html" class="nav-link">é¦–é¡µ</a>
                    <a href="practice.html" class="nav-link">SQLè®­ç»ƒè¥</a>
                    <a href="#" class="nav-link active">Pythonä¸­å¿ƒ</a>
                    <a href="all-practice.html" class="nav-link">ç»¼åˆç»ƒä¹ </a>
                    <a href="interactive.html" class="nav-link">äº’åŠ¨ç»ƒä¹ </a>
                </div>
                <div class="flex items-center space-x-4">
                    <button class="btn-secondary px-4 py-2 text-sm" onclick="showMobileApp()">ç§»åŠ¨ç‰ˆ</button>
                    <div class="w-8 h-8 rounded-full bg-gradient-to-r from-purple-400 to-pink-500 flex items-center justify-center">
                        <span class="text-white text-sm font-bold">ğŸ‘¤</span>
                    </div>
                </div>
            </div>
        </div>
    </nav>
    
    <!-- ä¸»è¦å†…å®¹ -->
    <div class="flex pt-16 min-h-screen">
        <!-- ä¾§è¾¹æ  -->
        <div class="sidebar w-80 p-6 overflow-y-auto">
            <div class="mb-8">
                <h2 class="text-xl font-bold text-white mb-4">å­¦ä¹ è¿›åº¦</h2>
                <div class="space-y-3">
                    <div>
                        <div class="flex justify-between text-sm mb-1">
                            <span class="text-gray-300">æ€»ä½“è¿›åº¦</span>
                            <span class="text-cyan-400" id="overall-progress">0%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
                        </div>
                    </div>
                    <div class="flex items-center justify-between text-sm">
                        <span class="text-gray-300">å·²å®Œæˆè¯¾é¢˜</span>
                        <span class="text-green-400" id="completed-chapters">0/7</span>
                    </div>
                </div>
            </div>
            
            <div class="mb-8">
                <h3 class="text-lg font-semibold text-white mb-4">è¯¾é¢˜åˆ—è¡¨</h3>
                <div class="space-y-2" id="chapters-list">
                    <!-- è¯¾é¢˜åˆ—è¡¨å°†åŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>
            
            <div>
                <h3 class="text-lg font-semibold text-white mb-4">å­¦ä¹ å·¥å…·</h3>
                <div class="space-y-3">
                    <button class="btn-secondary w-full py-3 text-sm" onclick="openPythonEditor()">
                        ğŸ“ Pythonç¼–è¾‘å™¨
                    </button>
                    <button class="btn-secondary w-full py-3 text-sm" onclick="openDebugger()">
                        ğŸ› è°ƒè¯•å·¥å…·
                    </button>
                    <button class="btn-secondary w-full py-3 text-sm" onclick="openVisualizer()">
                        ğŸ“Š ç®—æ³•å¯è§†åŒ–
                    </button>
                    <button class="btn-secondary w-full py-3 text-sm" onclick="openQuiz()">
                        ğŸ§  çŸ¥è¯†æµ‹éªŒ
                    </button>
                </div>
            </div>
        </div>
        
        <!-- ä¸»å†…å®¹åŒºåŸŸ -->
        <div class="flex-1 p-6 overflow-y-auto">
            <div id="chapter-content">
                <!-- é»˜è®¤æ˜¾ç¤ºè¯¾é¢˜ä¸€å†…å®¹ -->
                <div class="mb-8">
                    <h1 class="text-3xl font-bold gradient-text-green mb-4" id="chapter-title">è¯¾é¢˜ä¸€ï¼šç®—æ³•è®¾è®¡ä¸Pythonç¨‹åºåŸºç¡€</h1>
                    <p class="text-gray-300 text-lg mb-6" id="chapter-description">
                        å­¦ä¹ ç®—æ³•çš„æ ¸å¿ƒæ¦‚å¿µï¼ŒæŒæ¡Pythonç¼–ç¨‹åŸºç¡€ï¼Œä¸ºåç»­å­¦ä¹ å¥ å®šåšå®åŸºç¡€ã€‚
                    </p>
                    
                    <!-- å­¦ä¹ ç›®æ ‡ -->
                    <div class="glass-card p-6 mb-8">
                        <h2 class="text-xl font-semibold text-white mb-4">å­¦ä¹ ç›®æ ‡</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="space-y-2">
                                <div class="flex items-center">
                                    <span class="w-2 h-2 bg-green-400 rounded-full mr-3"></span>
                                    <span class="text-gray-300 text-sm">ç†è§£æ¼”ç®—æ³•çš„å®šä¹‰å’Œç‰¹æ€§</span>
                                </div>
                                <div class="flex items-center">
                                    <span class="w-2 h-2 bg-green-400 rounded-full mr-3"></span>
                                    <span class="text-gray-300 text-sm">æŒæ¡IPOå¾ªç¯åˆ†ææ–¹æ³•</span>
                                </div>
                                <div class="flex items-center">
                                    <span class="w-2 h-2 bg-green-400 rounded-full mr-3"></span>
                                    <span class="text-gray-300 text-sm">å­¦ä¼šä½¿ç”¨è™šæ‹Ÿç å’Œæµç¨‹å›¾</span>
                                </div>
                            </div>
                            <div class="space-y-2">
                                <div class="flex items-center">
                                    <span class="w-2 h-2 bg-green-400 rounded-full mr-3"></span>
                                    <span class="text-gray-300 text-sm">æŒæ¡PythonåŸºç¡€è¯­æ³•</span>
                                </div>
                                <div class="flex items-center">
                                    <span class="w-2 h-2 bg-green-400 rounded-full mr-3"></span>
                                    <span class="text-gray-300 text-sm">ç†è§£å˜é‡å’Œæ•°æ®ç±»å‹</span>
                                </div>
                                <div class="flex items-center">
                                    <span class="w-2 h-2 bg-green-400 rounded-full mr-3"></span>
                                    <span class="text-gray-300 text-sm">å­¦ä¼šä½¿ç”¨æ§åˆ¶ç»“æ„</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- æ ¸å¿ƒæ¦‚å¿µ -->
                    <div class="glass-card p-6 mb-8">
                        <h2 class="text-xl font-semibold text-white mb-4">æ ¸å¿ƒæ¦‚å¿µ</h2>
                        <div id="chapter-concepts">
                            <!-- æ ¸å¿ƒæ¦‚å¿µå†…å®¹å°†åŠ¨æ€åŠ è½½ -->
                        </div>
                    </div>
                    
                    <!-- ä»£ç ç¤ºä¾‹ -->
                    <div class="glass-card p-6 mb-8">
                        <h2 class="text-xl font-semibold text-white mb-4">ä»£ç ç¤ºä¾‹</h2>
                        <div id="chapter-examples">
                            <!-- ä»£ç ç¤ºä¾‹å°†åŠ¨æ€åŠ è½½ -->
                        </div>
                    </div>
                    
                    <!-- å®è·µç»ƒä¹  -->
                    <div class="glass-card p-6 mb-8">
                        <h2 class="text-xl font-semibold text-white mb-4">å®è·µç»ƒä¹ </h2>
                        <div id="chapter-practices">
                            <!-- å®è·µç»ƒä¹ å°†åŠ¨æ€åŠ è½½ -->
                        </div>
                    </div>
                    
                    <!-- çŸ¥è¯†æµ‹éªŒ -->
                    <div class="glass-card p-6">
                        <h2 class="text-xl font-semibold text-white mb-4">çŸ¥è¯†æµ‹éªŒ</h2>
                        <div id="chapter-quiz">
                            <!-- çŸ¥è¯†æµ‹éªŒå°†åŠ¨æ€åŠ è½½ -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- é€šçŸ¥ç»„ä»¶ -->
    <div id="notification" class="notification"></div>
    
    <!-- é¢˜åº“æ–‡ä»¶ -->
    <script src="python-questions.js"></script>
    
    <script>
        // Pythonè¯¾ç¨‹å®Œæ•´æ•°æ®
        const pythonChapters = {
            1: {
                title: "è¯¾é¢˜ä¸€ï¼šç®—æ³•è®¾è®¡ä¸Pythonç¨‹åºåŸºç¡€",
                description: "å­¦ä¹ ç®—æ³•çš„æ ¸å¿ƒæ¦‚å¿µï¼ŒæŒæ¡Pythonç¼–ç¨‹åŸºç¡€ï¼Œä¸ºåç»­å­¦ä¹ å¥ å®šåšå®åŸºç¡€ã€‚",
                topics: ["ç®—æ³•å®šä¹‰", "IPOå¾ªç¯", "Pythonç¯å¢ƒ", "åŸºç¡€è¯­æ³•", "æ•°æ®ç±»å‹", "æ§åˆ¶ç»“æ„"],
                concepts: [
                    {
                        title: "1.1 æ¼”ç®—æ³• (Algorithms)",
                        content: "æ¼”ç®—æ³•æ˜¯è§£å†³é—®é¢˜çš„æ­¥éª¤é›†åˆã€‚ä¸€ä¸ªå¥½çš„æ¼”ç®—æ³•åº”è¯¥å…·å¤‡æ˜ç¡®æ€§ã€æœ‰é™æ€§ã€æœ‰æ•ˆæ€§å’Œè¾“å…¥è¾“å‡ºç‰¹æ€§ã€‚",
                        details: [
                            {
                                subtitle: "IPOå¾ªç¯",
                                content: "IPOå¾ªç¯æ˜¯é—®é¢˜åˆ†æçš„é‡è¦å·¥å…·ï¼ŒåŒ…å«ä¸‰ä¸ªæ­¥éª¤ï¼š",
                                list: [
                                    "Input (è¾“å…¥)ï¼šç¨‹åºéœ€è¦çš„æ•°æ®",
                                    "Process (å¤„ç†)ï¼šå¯¹è¾“å…¥æ•°æ®çš„æ“ä½œ",
                                    "Output (è¾“å‡º)ï¼šç¨‹åºäº§ç”Ÿçš„ç»“æœ"
                                ]
                            },
                            {
                                subtitle: "è¡¨ç¤ºæ–¹æ³•",
                                content: "ç®—æ³•å¯ä»¥ç”¨å¤šç§æ–¹å¼è¡¨ç¤ºï¼š",
                                list: [
                                    "è™šæ‹Ÿç  (Pseudocode)ï¼šç±»ä¼¼è‡ªç„¶è¯­è¨€çš„ç®—æ³•æè¿°",
                                    "æµç¨‹å›¾ (Flowchart)ï¼šå›¾å½¢åŒ–è¡¨ç¤ºç®—æ³•æ­¥éª¤",
                                    "è¿½è¸ªè¡¨ (Trace Table)ï¼šé€æ­¥åˆ†æå˜é‡å˜åŒ–"
                                ]
                            }
                        ]
                    },
                    {
                        title: "1.2 Pythonç¨‹åºåŸºç¡€",
                        content: "Pythonæ˜¯ä¸€ç§ç®€æ´è€Œå¼ºå¤§çš„ç¼–ç¨‹è¯­è¨€ï¼Œé€‚åˆåˆå­¦è€…å­¦ä¹ ã€‚",
                        details: [
                            {
                                subtitle: "å¼€å‘ç¯å¢ƒ",
                                content: "æ¨èä½¿ç”¨Thonny IDEè¿›è¡ŒPythonå¼€å‘ï¼Œå®ƒæä¾›äº†å‹å¥½çš„ç•Œé¢å’Œè°ƒè¯•åŠŸèƒ½ã€‚"
                            },
                            {
                                subtitle: "åŸºæœ¬è¯­æ³•",
                                content: "Pythonçš„åŸºæœ¬è¯­æ³•è§„åˆ™ï¼š",
                                list: [
                                    "ä½¿ç”¨ # è¿›è¡Œæ³¨é‡Š",
                                    "ç¼©è¿›è¡¨ç¤ºä»£ç å—å±‚çº§",
                                    "å˜é‡å‘½åéµå¾ªç‰¹å®šè§„åˆ™"
                                ]
                            },
                            {
                                subtitle: "æ•°æ®ç±»å‹",
                                content: "Pythonçš„åŸºæœ¬æ•°æ®ç±»å‹ï¼š",
                                list: [
                                    "int - æ•´æ•°ç±»å‹",
                                    "float - æµ®ç‚¹æ•°ç±»å‹",
                                    "str - å­—ç¬¦ä¸²ç±»å‹",
                                    "bool - å¸ƒå°”ç±»å‹"
                                ]
                            },
                            {
                                subtitle: "æ§åˆ¶ç»“æ„",
                                content: "Pythonçš„æ§åˆ¶ç»“æ„ï¼š",
                                list: [
                                    "if-elif-else - æ¡ä»¶åˆ¤æ–­",
                                    "for - å¾ªç¯éå†",
                                    "while - æ¡ä»¶å¾ªç¯"
                                ]
                            }
                        ]
                    }
                ],
                examples: [
                    {
                        title: "ç¤ºä¾‹1ï¼šBMIè®¡ç®—å™¨",
                        description: "è¿™æ˜¯ä¸€ä¸ªç®€å•çš„BMIè®¡ç®—å™¨ï¼Œå±•ç¤ºäº†IPOå¾ªç¯çš„åº”ç”¨ã€‚",
                        code: `# BMIè®¡ç®—å™¨ - å±•ç¤ºIPOå¾ªç¯
# Input: è·å–ç”¨æˆ·è¾“å…¥çš„èº«é«˜å’Œä½“é‡
height = float(input("è¯·è¾“å…¥èº«é«˜(ç±³): "))
weight = float(input("è¯·è¾“å…¥ä½“é‡(åƒå…‹): "))

# Process: è®¡ç®—BMI
bmi = weight / (height ** 2)

# Output: æ˜¾ç¤ºç»“æœå’Œå¥åº·çŠ¶å†µ
print(f"æ‚¨çš„BMIæ˜¯: {bmi:.2f}")

if bmi < 18.5:
    print("ä½“é‡è¿‡è½»")
elif bmi < 24:
    print("ä½“é‡æ­£å¸¸")
elif bmi < 28:
    print("ä½“é‡è¶…é‡")
else:
    print("è‚¥èƒ–")`
                    },
                    {
                        title: "ç¤ºä¾‹2ï¼šåˆ—è¡¨æ“ä½œ",
                        description: "æ¼”ç¤ºPythonåˆ—è¡¨çš„åŸºæœ¬æ“ä½œï¼ŒåŒ…æ‹¬æ·»åŠ ã€åˆ é™¤å’Œéå†å…ƒç´ ã€‚",
                        code: `# åˆ—è¡¨ç¤ºä¾‹ - å­¦ç”Ÿæˆç»©ç®¡ç†
scores = [85, 92, 78, 96, 88]

# æ·»åŠ æ–°æˆç»©
scores.append(90)
print(f"æ·»åŠ å: {scores}")

# è®¡ç®—å¹³å‡åˆ†
average = sum(scores) / len(scores)
print(f"å¹³å‡åˆ†: {average:.2f}")

# æ‰¾å‡ºæœ€é«˜åˆ†å’Œæœ€ä½åˆ†
max_score = max(scores)
min_score = min(scores)
print(f"æœ€é«˜åˆ†: {max_score}, æœ€ä½åˆ†: {min_score}")

# éå†åˆ—è¡¨å¹¶æ˜¾ç¤º
for i, score in enumerate(scores, 1):
    print(f"å­¦ç”Ÿ{i}: {score}åˆ†")`
                    }
                ],
                practices: [
                    {
                        title: "ç»ƒä¹ 1ï¼šç®€å•è®¡ç®—å™¨",
                        description: "ç¼–å†™ä¸€ä¸ªç®€å•çš„è®¡ç®—å™¨ç¨‹åºï¼Œèƒ½å¤Ÿè¿›è¡ŒåŠ å‡ä¹˜é™¤å››åˆ™è¿ç®—ã€‚",
                        code: `# åœ¨è¿™é‡Œç¼–å†™ä½ çš„è®¡ç®—å™¨ä»£ç ...`
                    },
                    {
                        title: "ç»ƒä¹ 2ï¼šæˆç»©ç»Ÿè®¡",
                        description: "ç¼–å†™ç¨‹åºç»Ÿè®¡ä¸€ç»„å­¦ç”Ÿæˆç»©ï¼Œè®¡ç®—å¹³å‡åˆ†ã€æœ€é«˜åˆ†å’Œæœ€ä½åˆ†ã€‚",
                        code: `# åœ¨è¿™é‡Œç¼–å†™ä½ çš„æˆç»©ç»Ÿè®¡ä»£ç ...`
                    }
                ],
                quiz: [
                    {
                        question: "Pythonä¸­ç”¨äºå•è¡Œæ³¨é‡Šçš„ç¬¦å·æ˜¯ï¼Ÿ",
                        options: [
                            "// åŒæ–œæ ",
                            "# äº•å·",
                            "/* */ æ–œæ æ˜Ÿå·",
                            "-- åŒå‡å·"
                        ],
                        correct: 1,
                        explanation: "Pythonä½¿ç”¨#ç¬¦å·è¿›è¡Œå•è¡Œæ³¨é‡Šã€‚"
                    },
                    {
                        question: "ä»¥ä¸‹å“ªä¸ªä¸æ˜¯Pythonçš„åŸºæœ¬æ•°æ®ç±»å‹ï¼Ÿ",
                        options: [
                            "int - æ•´æ•°ç±»å‹",
                            "float - æµ®ç‚¹æ•°ç±»å‹",
                            "char - å­—ç¬¦ç±»å‹",
                            "bool - å¸ƒå°”ç±»å‹"
                        ],
                        correct: 2,
                        explanation: "Pythonæ²¡æœ‰charç±»å‹ï¼Œå­—ç¬¦ä¸²ä½¿ç”¨strç±»å‹è¡¨ç¤ºã€‚"
                    }
                ]
            },
            2: {
                title: "è¯¾é¢˜äºŒï¼šç¨‹åºæµ‹è¯•ä¸è°ƒè¯•",
                description: "å­¦ä¹ ç¨‹åºæµ‹è¯•æ–¹æ³•ï¼ŒæŒæ¡è°ƒè¯•æŠ€å·§ï¼Œæé«˜ä»£ç è´¨é‡ã€‚",
                topics: ["é”™è¯¯ç±»å‹", "è°ƒè¯•å·¥å…·", "æµ‹è¯•æ–¹æ³•", "å¼‚å¸¸å¤„ç†", "ç¨‹åºè¿½è¸ª"],
                concepts: [
                    {
                        title: "2.1 é”™è¯¯ç±»å‹",
                        content: "Pythonç¨‹åºä¸­å¸¸è§çš„é”™è¯¯ç±»å‹ï¼š",
                        details: [
                            {
                                subtitle: "è¯­æ³•é”™è¯¯ (SyntaxError)",
                                content: "ä»£ç ä¸ç¬¦åˆPythonè¯­æ³•è§„åˆ™ï¼Œé€šå¸¸åœ¨ç¼–è¯‘æ—¶å‘ç°ã€‚"
                            },
                            {
                                subtitle: "è¿è¡Œæ—¶é”™è¯¯ (RuntimeError)",
                                content: "ç¨‹åºè¿è¡Œæ—¶å‘ç”Ÿçš„é”™è¯¯ï¼Œå¦‚é™¤ä»¥é›¶ã€ç´¢å¼•è¶Šç•Œç­‰ã€‚"
                            },
                            {
                                subtitle: "é€»è¾‘é”™è¯¯ (LogicError)",
                                content: "ç¨‹åºè¯­æ³•æ­£ç¡®ï¼Œè¿è¡Œæ­£å¸¸ï¼Œä½†ç»“æœä¸ç¬¦åˆé¢„æœŸã€‚"
                            }
                        ]
                    }
                ],
                examples: [
                    {
                        title: "ç¤ºä¾‹ï¼šå¼‚å¸¸å¤„ç†",
                        description: "ä½¿ç”¨try-exceptå¤„ç†å¼‚å¸¸æƒ…å†µã€‚",
                        code: `try:
    num1 = int(input("è¯·è¾“å…¥ç¬¬ä¸€ä¸ªæ•°: "))
    num2 = int(input("è¯·è¾“å…¥ç¬¬äºŒä¸ªæ•°: "))
    result = num1 / num2
    print(f"ç»“æœæ˜¯: {result}")
except ValueError:
    print("è¯·è¾“å…¥æœ‰æ•ˆçš„æ•´æ•°ï¼")
except ZeroDivisionError:
    print("é™¤æ•°ä¸èƒ½ä¸ºé›¶ï¼")
except Exception as e:
    print(f"å‘ç”Ÿé”™è¯¯: {e}")`
                    }
                ],
                practices: [
                    {
                        title: "ç»ƒä¹ ï¼šå¼‚å¸¸å¤„ç†ç¨‹åº",
                        description: "ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œå¤„ç†ç”¨æˆ·è¾“å…¥æ—¶å¯èƒ½å‡ºç°çš„å„ç§å¼‚å¸¸ã€‚",
                        code: `# ç¼–å†™ä¸€ä¸ªå®‰å…¨çš„é™¤æ³•ç¨‹åº...`
                    }
                ],
                quiz: [
                    {
                        question: "å“ªç§é”™è¯¯ç±»å‹åœ¨ç¨‹åºè¿è¡Œæ—¶å‘ç”Ÿï¼Ÿ",
                        options: [
                            "è¯­æ³•é”™è¯¯",
                            "è¿è¡Œæ—¶é”™è¯¯",
                            "é€»è¾‘é”™è¯¯",
                            "ç¼–è¯‘é”™è¯¯"
                        ],
                        correct: 1,
                        explanation: "è¿è¡Œæ—¶é”™è¯¯åœ¨ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿã€‚"
                    }
                ]
            },
            3: {
                title: "è¯¾é¢˜ä¸‰ï¼šè¿›é˜¶æ§åˆ¶ç»“æ„",
                description: "æ·±å…¥å­¦ä¹ åµŒå¥—ç»“æ„ã€å¾ªç¯ä¼˜åŒ–å’Œå¤æ‚é€»è¾‘å¤„ç†ã€‚",
                topics: ["åµŒå¥—æ¡ä»¶", "åµŒå¥—å¾ªç¯", "å¾ªç¯ä¼˜åŒ–", "å¤æ‚é€»è¾‘", "ç®—æ³•è®¾è®¡"],
                concepts: [
                    {
                        title: "3.1 åµŒå¥—ç»“æ„",
                        content: "åœ¨æ§åˆ¶ç»“æ„ä¸­åŒ…å«å…¶ä»–æ§åˆ¶ç»“æ„ï¼Œå®ç°å¤æ‚é€»è¾‘ã€‚",
                        details: [
                            {
                                subtitle: "åµŒå¥—æ¡ä»¶è¯­å¥",
                                content: "åœ¨ifè¯­å¥ä¸­åµŒå¥—å…¶ä»–ifè¯­å¥ï¼Œå¤„ç†å¤šæ¡ä»¶åˆ¤æ–­ã€‚"
                            },
                            {
                                subtitle: "åµŒå¥—å¾ªç¯",
                                content: "åœ¨å¾ªç¯ä¸­åµŒå¥—å…¶ä»–å¾ªç¯ï¼Œå¤„ç†å¤šç»´æ•°æ®ç»“æ„ã€‚"
                            }
                        ]
                    }
                ],
                examples: [
                    {
                        title: "ç¤ºä¾‹ï¼šä¹ä¹ä¹˜æ³•è¡¨",
                        description: "ä½¿ç”¨åµŒå¥—å¾ªç¯æ‰“å°ä¹ä¹ä¹˜æ³•è¡¨ã€‚",
                        code: `for i in range(1, 10):
    for j in range(1, i + 1):
        print(f"{j}Ã—{i}={i*j}", end="\t")
    print()`
                    }
                ],
                practices: [
                    {
                        title: "ç»ƒä¹ ï¼šé‡‘å­—å¡”å›¾æ¡ˆ",
                        description: "ä½¿ç”¨åµŒå¥—å¾ªç¯æ‰“å°é‡‘å­—å¡”å›¾æ¡ˆã€‚",
                        code: `# ç¼–å†™ä»£ç æ‰“å°é‡‘å­—å¡”å›¾æ¡ˆ...`
                    }
                ],
                quiz: [
                    {
                        question: "ä»¥ä¸‹å“ªä¸ªæœ€é€‚åˆä½¿ç”¨åµŒå¥—å¾ªç¯ï¼Ÿ",
                        options: [
                            "è®¡ç®—1åˆ°100çš„å’Œ",
                            "æ‰“å°ä¹ä¹ä¹˜æ³•è¡¨",
                            "åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦ä¸ºè´¨æ•°",
                            "æŸ¥æ‰¾åˆ—è¡¨ä¸­çš„æœ€å¤§å€¼"
                        ],
                        correct: 1,
                        explanation: "ä¹ä¹ä¹˜æ³•è¡¨éœ€è¦è¡Œå’Œåˆ—çš„åŒé‡å¾ªç¯ï¼Œé€‚åˆä½¿ç”¨åµŒå¥—å¾ªç¯ã€‚"
                    }
                ]
            },
            4: {
                title: "è¯¾é¢˜å››ï¼šå­ç¨‹åº",
                description: "å­¦ä¹ å‡½æ•°å®šä¹‰ã€å‚æ•°ä¼ é€’ã€é€’å½’å’Œæ¨¡å—åŒ–è®¾è®¡ã€‚",
                topics: ["å‡½æ•°å®šä¹‰", "å‚æ•°ä¼ é€’", "å˜é‡ä½œç”¨åŸŸ", "é€’å½’", "æ¨¡å—åŒ–è®¾è®¡"],
                concepts: [
                    {
                        title: "4.1 å‡½æ•°åŸºç¡€",
                        content: "å‡½æ•°æ˜¯å¯é‡ç”¨çš„ä»£ç å—ï¼Œæé«˜ç¨‹åºçš„æ¨¡å—æ€§å’Œä»£ç å¤ç”¨ã€‚",
                        details: [
                            {
                                subtitle: "å‡½æ•°å®šä¹‰",
                                content: "ä½¿ç”¨defå…³é”®å­—å®šä¹‰å‡½æ•°ï¼ŒåŒ…æ‹¬å‡½æ•°åã€å‚æ•°å’Œè¿”å›å€¼ã€‚"
                            },
                            {
                                subtitle: "å‚æ•°ä¼ é€’",
                                content: "Pythonæ”¯æŒä½ç½®å‚æ•°ã€å…³é”®å­—å‚æ•°ã€é»˜è®¤å‚æ•°å’Œå¯å˜å‚æ•°ã€‚"
                            }
                        ]
                    }
                ],
                examples: [
                    {
                        title: "ç¤ºä¾‹ï¼šé€’å½’å‡½æ•°",
                        description: "ä½¿ç”¨é€’å½’è®¡ç®—é˜¶ä¹˜ã€‚",
                        code: `def factorial(n):
    """è®¡ç®—nçš„é˜¶ä¹˜"""
    if n <= 1:
        return 1
    else:
        return n * factorial(n - 1)

# æµ‹è¯•å‡½æ•°
num = 5
result = factorial(num)
print(f"{num}çš„é˜¶ä¹˜æ˜¯: {result}")`
                    }
                ],
                practices: [
                    {
                        title: "ç»ƒä¹ ï¼šæ–æ³¢é‚£å¥‘æ•°åˆ—",
                        description: "ç¼–å†™é€’å½’å‡½æ•°è®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—ã€‚",
                        code: `# ç¼–å†™æ–æ³¢é‚£å¥‘æ•°åˆ—é€’å½’å‡½æ•°...`
                    }
                ],
                quiz: [
                    {
                        question: "å‡½æ•°å®šä¹‰æ—¶ä½¿ç”¨çš„å…³é”®å­—æ˜¯ï¼Ÿ",
                        options: [
                            "function",
                            "def",
                            "define",
                            "func"
                        ],
                        correct: 1,
                        explanation: "Pythonä½¿ç”¨defå…³é”®å­—å®šä¹‰å‡½æ•°ã€‚"
                    }
                ]
            },
            5: {
                title: "è¯¾é¢˜äº”ï¼šæ•°æ®ç»“æ„",
                description: "å­¦ä¹ æ•°ç»„ã€é“¾è¡¨ã€æ ˆã€é˜Ÿåˆ—ç­‰å¸¸ç”¨æ•°æ®ç»“æ„ã€‚",
                topics: ["æ•°ç»„", "é“¾è¡¨", "æ ˆ", "é˜Ÿåˆ—", "æ ‘ç»“æ„", "å›¾ç»“æ„"],
                concepts: [
                    {
                        title: "5.1 çº¿æ€§æ•°æ®ç»“æ„",
                        content: "çº¿æ€§æ•°æ®ç»“æ„æ˜¯å…ƒç´ æŒ‰çº¿æ€§é¡ºåºæ’åˆ—çš„æ•°æ®ç»„ç»‡æ–¹å¼ã€‚",
                        details: [
                            {
                                subtitle: "åˆ—è¡¨ (List)",
                                content: "Pythonå†…ç½®çš„åŠ¨æ€æ•°ç»„ï¼Œæ”¯æŒå¢åˆ æ”¹æŸ¥æ“ä½œã€‚"
                            },
                            {
                                subtitle: "æ ˆ (Stack)",
                                content: "åè¿›å…ˆå‡º(LIFO)çš„æ•°æ®ç»“æ„ï¼Œæ”¯æŒpushå’Œpopæ“ä½œã€‚"
                            },
                            {
                                subtitle: "é˜Ÿåˆ— (Queue)",
                                content: "å…ˆè¿›å…ˆå‡º(FIFO)çš„æ•°æ®ç»“æ„ï¼Œæ”¯æŒenqueueå’Œdequeueæ“ä½œã€‚"
                            }
                        ]
                    }
                ],
                examples: [
                    {
                        title: "ç¤ºä¾‹ï¼šæ ˆçš„å®ç°",
                        description: "ä½¿ç”¨åˆ—è¡¨å®ç°æ ˆæ•°æ®ç»“æ„ã€‚",
                        code: `class Stack:
    def __init__(self):
        self.items = []
    
    def push(self, item):
        self.items.append(item)
    
    def pop(self):
        if not self.is_empty():
            return self.items.pop()
        return None
    
    def is_empty(self):
        return len(self.items) == 0
    
    def peek(self):
        if not self.is_empty():
            return self.items[-1]
        return None

# ä½¿ç”¨æ ˆ
stack = Stack()
stack.push(1)
stack.push(2)
stack.push(3)
print(stack.pop())  # è¾“å‡º: 3
print(stack.peek())  # è¾“å‡º: 2`
                    }
                ],
                practices: [
                    {
                        title: "ç»ƒä¹ ï¼šé˜Ÿåˆ—å®ç°",
                        description: "ä½¿ç”¨åˆ—è¡¨å®ç°é˜Ÿåˆ—æ•°æ®ç»“æ„ã€‚",
                        code: `# ç¼–å†™é˜Ÿåˆ—ç±»çš„å®ç°...`
                    }
                ],
                quiz: [
                    {
                        question: "æ ˆçš„ç‰¹ç‚¹æ˜¯ï¼Ÿ",
                        options: [
                            "å…ˆè¿›å…ˆå‡º",
                            "åè¿›å…ˆå‡º",
                            "éšæœºè®¿é—®",
                            "åŒå‘æ“ä½œ"
                        ],
                        correct: 1,
                        explanation: "æ ˆæ˜¯åè¿›å…ˆå‡º(LIFO)çš„æ•°æ®ç»“æ„ã€‚"
                    }
                ]
            },
            6: {
                title: "è¯¾é¢˜å…­ï¼šæœç´¢ä¸æ’åº",
                description: "å­¦ä¹ çº¿æ€§æœç´¢ã€äºŒåˆ†æœç´¢å’Œå„ç§æ’åºç®—æ³•ã€‚",
                topics: ["çº¿æ€§æœç´¢", "äºŒåˆ†æœç´¢", "é€‰æ‹©æ’åº", "æ’å…¥æ’åº", "å¿«é€Ÿæ’åº"],
                concepts: [
                    {
                        title: "6.1 æœç´¢ç®—æ³•",
                        content: "åœ¨æ•°æ®é›†åˆä¸­æŸ¥æ‰¾ç‰¹å®šå…ƒç´ çš„ç®—æ³•ã€‚",
                        details: [
                            {
                                subtitle: "çº¿æ€§æœç´¢",
                                content: "ä»ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹é€ä¸ªæ£€æŸ¥ï¼Œç›´åˆ°æ‰¾åˆ°ç›®æ ‡ã€‚"
                            },
                            {
                                subtitle: "äºŒåˆ†æœç´¢",
                                content: "åœ¨æœ‰åºæ•°ç»„ä¸­ï¼Œæ¯æ¬¡æ¯”è¾ƒä¸­é—´å…ƒç´ ï¼Œç¼©å°æœç´¢èŒƒå›´ã€‚"
                            }
                        ]
                    }
                ],
                examples: [
                    {
                        title: "ç¤ºä¾‹ï¼šäºŒåˆ†æœç´¢",
                        description: "å®ç°äºŒåˆ†æœç´¢ç®—æ³•ã€‚",
                        code: `def binary_search(arr, target):
    left, right = 0, len(arr) - 1
    
    while left <= right:
        mid = (left + right) // 2
        
        if arr[mid] == target:
            return mid
        elif arr[mid] < target:
            left = mid + 1
        else:
            right = mid - 1
    
    return -1

# æµ‹è¯•
numbers = [1, 3, 5, 7, 9, 11, 13]
index = binary_search(numbers, 7)
print(f"å…ƒç´ 7çš„ç´¢å¼•: {index}")`
                    }
                ],
                practices: [
                    {
                        title: "ç»ƒä¹ ï¼šå†’æ³¡æ’åº",
                        description: "å®ç°å†’æ³¡æ’åºç®—æ³•ã€‚",
                        code: `# ç¼–å†™å†’æ³¡æ’åºç®—æ³•...`
                    }
                ],
                quiz: [
                    {
                        question: "äºŒåˆ†æœç´¢çš„å‰ææ¡ä»¶æ˜¯ï¼Ÿ",
                        options: [
                            "æ•°ç»„å¿…é¡»æœ‰åº",
                            "æ•°ç»„å¿…é¡»æ— åº",
                            "æ•°ç»„é•¿åº¦å¿…é¡»ä¸ºå¶æ•°",
                            "æ•°ç»„å…ƒç´ å¿…é¡»å”¯ä¸€"
                        ],
                        correct: 0,
                        explanation: "äºŒåˆ†æœç´¢è¦æ±‚æ•°ç»„å¿…é¡»æ˜¯æœ‰åºçš„ã€‚"
                    }
                ]
            },
            7: {
                title: "è¯¾é¢˜ä¸ƒï¼šæ–‡æœ¬æ–‡ä»¶å¤„ç†",
                description: "å­¦ä¹ æ–‡ä»¶è¯»å†™ã€å­—ç¬¦ä¸²å¤„ç†å’ŒCSVæ“ä½œã€‚",
                topics: ["æ–‡ä»¶è¯»å†™", "å­—ç¬¦ä¸²å¤„ç†", "CSVæ“ä½œ", "æ–‡æœ¬åˆ†æ", "æ•°æ®å¤„ç†"],
                concepts: [
                    {
                        title: "7.1 æ–‡ä»¶æ“ä½œ",
                        content: "Pythonæä¾›äº†å¼ºå¤§çš„æ–‡ä»¶æ“ä½œåŠŸèƒ½ã€‚",
                        details: [
                            {
                                subtitle: "æ–‡ä»¶è¯»å†™",
                                content: "ä½¿ç”¨open()å‡½æ•°æ‰“å¼€æ–‡ä»¶ï¼Œæ”¯æŒè¯»ã€å†™ã€è¿½åŠ ç­‰æ¨¡å¼ã€‚"
                            },
                            {
                                subtitle: "CSVå¤„ç†",
                                content: "ä½¿ç”¨csvæ¨¡å—å¤„ç†CSVæ ¼å¼çš„æ•°æ®æ–‡ä»¶ã€‚"
                            }
                        ]
                    }
                ],
                examples: [
                    {
                        title: "ç¤ºä¾‹ï¼šæ–‡ä»¶å¤„ç†",
                        description: "è¯»å–æ–‡ä»¶å¹¶ç»Ÿè®¡è¯é¢‘ã€‚",
                        code: `def count_words(filename):
    word_count = {}
    
    with open(filename, 'r', encoding='utf-8') as file:
        for line in file:
            words = line.lower().split()
            for word in words:
                word = word.strip('.,!?;:"')
                if word:
                    word_count[word] = word_count.get(word, 0) + 1
    
    return word_count

# ä½¿ç”¨ç¤ºä¾‹
result = count_words('sample.txt')
print(f"æ€»å…±{len(result)}ä¸ªä¸åŒçš„å•è¯")
print("æœ€å¸¸è§çš„5ä¸ªå•è¯:")
for word, count in sorted(result.items(), key=lambda x: x[1], reverse=True)[:5]:
    print(f"{word}: {count}")`
                    }
                ],
                practices: [
                    {
                        title: "ç»ƒä¹ ï¼šCSVæ–‡ä»¶å¤„ç†",
                        description: "è¯»å–CSVæ–‡ä»¶å¹¶è¿›è¡Œæ•°æ®åˆ†æã€‚",
                        code: `# ç¼–å†™CSVæ–‡ä»¶å¤„ç†ç¨‹åº...`
                    }
                ],
                quiz: [
                    {
                        question: "è¯»å–æ–‡ä»¶æ—¶ï¼Œä½¿ç”¨ä»€ä¹ˆæ¨¡å¼å¯ä»¥ç¡®ä¿æ–‡ä»¶å­˜åœ¨ï¼Ÿ",
                        options: [
                            "'w' æ¨¡å¼",
                            "'r' æ¨¡å¼",
                            "'a' æ¨¡å¼",
                            "'x' æ¨¡å¼"
                        ],
                        correct: 1,
                        explanation: "'r' æ¨¡å¼ç”¨äºè¯»å–ï¼Œå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ä¼šæŠ¥é”™ã€‚"
                    }
                ]
            }
        };
        
        let currentChapter = 1;
        let pythonEditor = null;
        let userProgress = JSON.parse(localStorage.getItem('pythonProgress') || '{}');
        
        // é¡µé¢åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            initializePythonEditor();
            loadChaptersList();
            loadChapter(1);
            updateProgress();
        });
        
        // åˆå§‹åŒ–Pythonç¼–è¾‘å™¨
        function initializePythonEditor() {
            const editors = document.querySelectorAll('textarea[id$="-code"]');
            editors.forEach(editorElement => {
                if (typeof CodeMirror !== 'undefined') {
                    const editor = CodeMirror.fromTextArea(editorElement, {
                        mode: 'text/x-python',
                        theme: 'monokai',
                        lineNumbers: true,
                        autoCloseBrackets: true,
                        matchBrackets: true,
                        indentUnit: 4,
                        tabSize: 4,
                        lineWrapping: true,
                        extraKeys: {
                            'Tab': function(cm) {
                                cm.replaceSelection('    ');
                            }
                        }
                    });
                    
                    // ä¿å­˜ç¼–è¾‘å™¨å®ä¾‹
                    if (editorElement.id === 'calculator-code') {
                        window.calculatorEditor = editor;
                    } else if (editorElement.id === 'grades-code') {
                        window.gradesEditor = editor;
                    }
                }
            });
        }
        
        // åŠ è½½è¯¾é¢˜åˆ—è¡¨
        function loadChaptersList() {
            const container = document.getElementById('chapters-list');
            container.innerHTML = '';
            
            Object.keys(pythonChapters).forEach(chapterNum => {
                const chapter = pythonChapters[chapterNum];
                const isCompleted = userProgress.completedChapters && userProgress.completedChapters.includes(parseInt(chapterNum));
                const isActive = parseInt(chapterNum) === currentChapter;
                
                const chapterElement = document.createElement('div');
                chapterElement.className = `chapter-item ${isActive ? 'active' : ''} ${isCompleted ? 'completed' : ''}`;
                chapterElement.onclick = () => loadChapter(parseInt(chapterNum));
                
                chapterElement.innerHTML = `
                    <div class="flex items-center justify-between">
                        <div>
                            <h4 class="font-semibold text-white text-sm">è¯¾é¢˜${chapterNum}</h4>
                            <p class="text-gray-400 text-xs">${chapter.topics.join('ã€')}</p>
                        </div>
                        <span class="text-xs bg-${isCompleted ? 'green' : 'blue'}-500/20 text-${isCompleted ? 'green' : 'blue'}-300 px-2 py-1 rounded">
                            ${chapter.topics.length}ä¸ªä¸»é¢˜
                        </span>
                    </div>
                `;
                
                container.appendChild(chapterElement);
            });
        }
        
        // åŠ è½½ç« èŠ‚å†…å®¹
        function loadChapter(chapterNum) {
            currentChapter = chapterNum;
            const chapter = pythonChapters[chapterNum];
            
            // æ›´æ–°ä¾§è¾¹æ çŠ¶æ€
            document.querySelectorAll('.chapter-item').forEach((item, index) => {
                item.classList.remove('active');
                if (index + 1 === chapterNum) {
                    item.classList.add('active');
                }
            });
            
            // æ›´æ–°æ ‡é¢˜å’Œæè¿°
            document.getElementById('chapter-title').textContent = chapter.title;
            document.getElementById('chapter-description').textContent = chapter.description;
            
            // åŠ è½½æ ¸å¿ƒæ¦‚å¿µ
            loadConcepts(chapter);
            
            // åŠ è½½ä»£ç ç¤ºä¾‹
            loadExamples(chapter);
            
            // åŠ è½½å®è·µç»ƒä¹ 
            loadPractices(chapter);
            
            // åŠ è½½çŸ¥è¯†æµ‹éªŒ
            loadQuiz(chapter);
            
            showNotification(`æ­£åœ¨åŠ è½½${chapter.title}...`, 'success');
        }
        
        // åŠ è½½æ ¸å¿ƒæ¦‚å¿µ
        function loadConcepts(chapter) {
            const container = document.getElementById('chapter-concepts');
            container.innerHTML = '';
            
            chapter.concepts.forEach(concept => {
                const conceptElement = document.createElement('div');
                conceptElement.className = 'mb-6';
                
                let detailsHTML = '';
                concept.details.forEach(detail => {
                    let listHTML = '';
                    if (detail.list) {
                        listHTML = `<ul class="space-y-1 text-sm text-gray-300 mt-2">${
                            detail.list.map(item => `<li>â€¢ ${item}</li>`).join('')
                        }</ul>`;
                    }
                    
                    detailsHTML += `
                        <div class="mb-4">
                            <h4 class="font-semibold text-white mb-2">${detail.subtitle}</h4>
                            <p class="text-gray-300 text-sm">${detail.content}</p>
                            ${listHTML}
                        </div>
                    `;
                });
                
                conceptElement.innerHTML = `
                    <h3 class="text-lg font-semibold text-white mb-3">${concept.title}</h3>
                    <p class="text-gray-300 mb-4">${concept.content}</p>
                    ${detailsHTML}
                `;
                
                container.appendChild(conceptElement);
            });
        }
        
        // åŠ è½½ä»£ç ç¤ºä¾‹
        function loadExamples(chapter) {
            const container = document.getElementById('chapter-examples');
            container.innerHTML = '';
            
            chapter.examples.forEach(example => {
                const exampleElement = document.createElement('div');
                exampleElement.className = 'mb-6';
                
                exampleElement.innerHTML = `
                    <h3 class="text-lg font-semibold text-white mb-3">${example.title}</h3>
                    <p class="text-gray-300 text-sm mb-4">${example.description}</p>
                    <div class="code-block">
                        ${highlightPythonCode(example.code)}
                    </div>
                `;
                
                container.appendChild(exampleElement);
            });
        }
        
        // åŠ è½½å®è·µç»ƒä¹ 
        function loadPractices(chapter) {
            const container = document.getElementById('chapter-practices');
            container.innerHTML = '';
            
            chapter.practices.forEach((practice, index) => {
                const practiceElement = document.createElement('div');
                practiceElement.className = 'mb-6';
                
                practiceElement.innerHTML = `
                    <h3 class="text-lg font-semibold text-white mb-3">${practice.title}</h3>
                    <p class="text-gray-300 text-sm mb-4">${practice.description}</p>
                    <div class="code-editor mb-4">
                        <textarea id="practice-${index}-code" placeholder="${practice.code}"></textarea>
                    </div>
                    <div class="flex space-x-3">
                        <button class="btn-primary px-4 py-2 text-sm" onclick="runPracticeCode(${index})">
                            è¿è¡Œä»£ç 
                        </button>
                        <button class="btn-secondary px-4 py-2 text-sm" onclick="showPracticeHint(${index})">
                            æŸ¥çœ‹æç¤º
                        </button>
                        <button class="btn-secondary px-4 py-2 text-sm" onclick="showPracticeSolution(${index})">
                            æŸ¥çœ‹ç­”æ¡ˆ
                        </button>
                    </div>
                `;
                
                container.appendChild(practiceElement);
            });
            
            // é‡æ–°åˆå§‹åŒ–ç¼–è¾‘å™¨
            setTimeout(() => {
                initializePythonEditor();
            }, 100);
        }
        
        // åŠ è½½çŸ¥è¯†æµ‹éªŒ
        function loadQuiz(chapter) {
            const container = document.getElementById('chapter-quiz');
            container.innerHTML = '';
            
            chapter.quiz.forEach((quiz, index) => {
                const quizElement = document.createElement('div');
                quizElement.className = 'mb-6';
                
                quizElement.innerHTML = `
                    <h3 class="text-lg font-semibold text-white mb-3">é—®é¢˜${index + 1}ï¼š${quiz.question}</h3>
                    <div class="space-y-2 mb-4">
                        ${quiz.options.map((option, optIndex) => `
                            <div class="quiz-option" onclick="selectQuizOption(this, ${optIndex}, ${quiz.correct}, ${index})">
                                <span>${option}</span>
                            </div>
                        `).join('')}
                    </div>
                    <div id="quiz-result-${index}" class="hidden">
                        <div class="glass-card p-4 rounded-lg">
                            <p class="text-gray-300 mb-2">${quiz.explanation}</p>
                        </div>
                    </div>
                `;
                
                container.appendChild(quizElement);
            });
            
            container.innerHTML += `
                <div class="text-center">
                    <button class="btn-primary px-6 py-2" onclick="submitChapterQuiz()">
                        æäº¤æµ‹éªŒ
                    </button>
                </div>
            `;
        }
        
        // é«˜äº®Pythonä»£ç 
        function highlightPythonCode(code) {
            return code.replace(/#(.*)/g, '<span class="comment">#$1</span>')
                        .replace(/\b(def|if|elif|else|for|while|try|except|class|import|from|return|break|continue)\b/g, '<span class="keyword">$1</span>')
                        .replace(/\b(print|input|len|sum|max|min|range|enumerate|float|int|str|bool)\b/g, '<span class="function">$1</span>')
                        .replace(/"([^"]*)"/g, '<span class="string">"$1"</span>')
                        .replace(/'([^']*)'/g, '<span class="string">\'$1\'</span>')
                        .replace(/\b(\d+)\b/g, '<span class="number">$1</span>');
        }
        
        // è¿è¡Œç»ƒä¹ ä»£ç 
        function runPracticeCode(practiceIndex) {
            let editor;
            if (practiceIndex === 0) {
                editor = window.calculatorEditor;
            } else if (practiceIndex === 1) {
                editor = window.gradesEditor;
            }
            
            if (!editor) {
                showNotification('ç¼–è¾‘å™¨æœªåˆå§‹åŒ–', 'error');
                return;
            }
            
            const code = editor.getValue().trim();
            if (!code) {
                showNotification('è¯·è¾“å…¥ä»£ç ', 'error');
                return;
            }
            
            // æ¨¡æ‹Ÿä»£ç æ‰§è¡Œ
            const result = simulatePythonExecution(code, practiceIndex);
            displayExecutionResult(result);
            
            showNotification('ä»£ç è¿è¡ŒæˆåŠŸï¼', 'success');
        }
        
        // æ¨¡æ‹ŸPythonä»£ç æ‰§è¡Œ
        function simulatePythonExecution(code, practiceIndex) {
            const practiceHints = [
                "æç¤ºï¼šä½¿ç”¨input()è·å–ç”¨æˆ·è¾“å…¥ï¼Œç„¶åç”¨float()æˆ–int()è½¬æ¢æ•°æ®ç±»å‹ï¼Œè¿›è¡Œå››åˆ™è¿ç®—ã€‚",
                "æç¤ºï¼šä½¿ç”¨åˆ—è¡¨å­˜å‚¨æˆç»©ï¼Œç”¨sum()å’Œlen()è®¡ç®—å¹³å‡åˆ†ï¼Œç”¨max()å’Œmin()æ‰¾å‡ºæœ€é«˜æœ€ä½åˆ†ã€‚"
            ];
            
            if (practiceIndex === 0) {
                return {
                    success: true,
                    output: 'è¯·è¾“å…¥ç¬¬ä¸€ä¸ªæ•°: 10\nè¯·è¾“å…¥ç¬¬äºŒä¸ªæ•°: 5\nè¯·é€‰æ‹©è¿ç®—(+,-,*,/): +\nç»“æœæ˜¯: 15.0',
                    message: 'è®¡ç®—å™¨ç¨‹åºè¿è¡ŒæˆåŠŸ'
                };
            } else if (practiceIndex === 1) {
                return {
                    success: true,
                    output: 'æ·»åŠ å: [85, 92, 78, 96, 88, 90]\nå¹³å‡åˆ†: 88.17\næœ€é«˜åˆ†: 96, æœ€ä½åˆ†: 78\nå­¦ç”Ÿ1: 85åˆ†\nå­¦ç”Ÿ2: 92åˆ†\nå­¦ç”Ÿ3: 78åˆ†\nå­¦ç”Ÿ4: 96åˆ†\nå­¦ç”Ÿ5: 88åˆ†\nå­¦ç”Ÿ6: 90åˆ†',
                    message: 'æˆç»©ç»Ÿè®¡ç¨‹åºè¿è¡ŒæˆåŠŸ'
                };
            } else {
                return {
                    success: true,
                    output: 'ç¨‹åºè¿è¡Œå®Œæˆ',
                    message: practiceHints[practiceIndex] || 'ä»£ç è¯­æ³•æ­£ç¡®'
                };
            }
        }
        
        // æ˜¾ç¤ºæ‰§è¡Œç»“æœ
        function displayExecutionResult(result) {
            showNotification(`${result.message}\n${result.output}`, 'success', 5000);
        }
        
        // æ˜¾ç¤ºç»ƒä¹ æç¤º
        function showPracticeHint(practiceIndex) {
            const hints = [
                "æç¤ºï¼šä½¿ç”¨input()è·å–ç”¨æˆ·è¾“å…¥ï¼Œç”¨float()è½¬æ¢æ•°æ®ç±»å‹ï¼Œç„¶åè¿›è¡Œå››åˆ™è¿ç®—ã€‚å¯ä»¥ä½¿ç”¨if-elif-elseç»“æ„åˆ¤æ–­è¿ç®—ç±»å‹ã€‚",
                "æç¤ºï¼šä½¿ç”¨åˆ—è¡¨å­˜å‚¨æˆç»©ï¼Œç”¨append()æ·»åŠ æ–°æˆç»©ï¼Œç”¨sum()å’Œlen()è®¡ç®—å¹³å‡åˆ†ï¼Œç”¨max()å’Œmin()æ‰¾å‡ºæœ€é«˜æœ€ä½åˆ†ã€‚"
            ];
            
            showNotification(hints[practiceIndex] || 'æç¤ºå³å°†æ¨å‡º', 'success', 5000);
        }
        
        // æ˜¾ç¤ºç»ƒä¹ ç­”æ¡ˆ
        function showPracticeSolution(practiceIndex) {
            const solutions = [
                `# ç®€å•è®¡ç®—å™¨
def calculator():
    num1 = float(input("è¯·è¾“å…¥ç¬¬ä¸€ä¸ªæ•°: "))
    num2 = float(input("è¯·è¾“å…¥ç¬¬äºŒä¸ªæ•°: "))
    op = input("è¯·é€‰æ‹©è¿ç®—(+,-,*,/): ")
    
    if op == '+':
        result = num1 + num2
    elif op == '-':
        result = num1 - num2
    elif op == '*':
        result = num1 * num2
    elif op == '/':
        if num2 != 0:
            result = num1 / num2
        else:
            print("é™¤æ•°ä¸èƒ½ä¸ºé›¶ï¼")
            return
    else:
        print("æ— æ•ˆçš„è¿ç®—ç¬¦å·ï¼")
        return
    
    print(f"ç»“æœæ˜¯: {result}")

calculator()`,
                `# æˆç»©ç»Ÿè®¡
scores = [85, 92, 78, 96, 88]

# æ·»åŠ æ–°æˆç»©
new_score = float(input("è¯·è¾“å…¥æ–°æˆç»©: "))
scores.append(new_score)

# è®¡ç®—ç»Ÿè®¡ä¿¡æ¯
average = sum(scores) / len(scores)
max_score = max(scores)
min_score = min(scores)

print(f"æˆç»©åˆ—è¡¨: {scores}")
print(f"å¹³å‡åˆ†: {average:.2f}")
print(f"æœ€é«˜åˆ†: {max_score}")
print(f"æœ€ä½åˆ†: {min_score}")

# æ˜¾ç¤ºæ¯ä¸ªå­¦ç”Ÿçš„æˆç»©
for i, score in enumerate(scores, 1):
    print(f"å­¦ç”Ÿ{i}: {score}åˆ†")`
            ];
            
            showNotification('ç­”æ¡ˆç¤ºä¾‹å·²ç”Ÿæˆï¼Œè¯·æŸ¥çœ‹ä»£ç ç¼–è¾‘å™¨', 'success');
            
            let editor;
            if (practiceIndex === 0) {
                editor = window.calculatorEditor;
            } else if (practiceIndex === 1) {
                editor = window.gradesEditor;
            }
            
            if (editor) {
                editor.setValue(solutions[practiceIndex]);
            }
        }
        
        // é€‰æ‹©æµ‹éªŒé€‰é¡¹
        function selectQuizOption(element, selectedIndex, correctIndex, quizIndex) {
            // æ¸…é™¤å…¶ä»–é€‰é¡¹çš„é€‰ä¸­çŠ¶æ€
            const allOptions = element.parentNode.querySelectorAll('.quiz-option');
            allOptions.forEach(option => {
                option.classList.remove('selected', 'correct', 'incorrect');
            });
            
            // é€‰ä¸­å½“å‰é€‰é¡¹
            element.classList.add('selected');
            
            // æ ‡è®°æ­£ç¡®æˆ–é”™è¯¯
            if (selectedIndex === correctIndex) {
                element.classList.add('correct');
            } else {
                element.classList.add('incorrect');
                // åŒæ—¶æ ‡è®°æ­£ç¡®ç­”æ¡ˆ
                allOptions[correctIndex].classList.add('correct');
            }
            
            // æ˜¾ç¤ºç»“æœ
            const resultDiv = document.getElementById(`quiz-result-${quizIndex}`);
            resultDiv.classList.remove('hidden');
        }
        
        // æäº¤ç« èŠ‚æµ‹éªŒ
        function submitChapterQuiz() {
            const selectedOptions = document.querySelectorAll('.quiz-option.selected');
            const correctOptions = document.querySelectorAll('.quiz-option.correct');
            
            let correctCount = 0;
            selectedOptions.forEach((option, index) => {
                if (option.classList.contains('correct')) {
                    correctCount++;
                }
            });
            
            const totalQuestions = document.querySelectorAll('.quiz-option').length / 4; // æ¯é¢˜4ä¸ªé€‰é¡¹
            const score = Math.round((correctCount / totalQuestions) * 100);
            
            // è®°å½•å®ŒæˆçŠ¶æ€
            if (!userProgress.completedChapters) {
                userProgress.completedChapters = [];
            }
            
            if (score >= 60 && !userProgress.completedChapters.includes(currentChapter)) {
                userProgress.completedChapters.push(currentChapter);
                localStorage.setItem('pythonProgress', JSON.stringify(userProgress));
                updateProgress();
                loadChaptersList();
            }
            
            showNotification(`æµ‹éªŒå®Œæˆï¼å¾—åˆ†ï¼š${score}%`, score >= 60 ? 'success' : 'error');
        }
        
        // æ›´æ–°å­¦ä¹ è¿›åº¦
        function updateProgress() {
            const completedChapters = userProgress.completedChapters || [];
            const totalChapters = Object.keys(pythonChapters).length;
            const progressPercent = Math.round((completedChapters.length / totalChapters) * 100);
            
            document.getElementById('overall-progress').textContent = progressPercent + '%';
            document.getElementById('progress-fill').style.width = progressPercent + '%';
            document.getElementById('completed-chapters').textContent = `${completedChapters.length}/${totalChapters}`;
        }
        
        // æ‰“å¼€Pythonç¼–è¾‘å™¨
        function openPythonEditor() {
            showNotification('Pythonç¼–è¾‘å™¨å³å°†æ¨å‡º', 'success');
        }
        
        // æ‰“å¼€è°ƒè¯•å·¥å…·
        function openDebugger() {
            showNotification('è°ƒè¯•å·¥å…·å³å°†æ¨å‡º', 'success');
        }
        
        // æ‰“å¼€ç®—æ³•å¯è§†åŒ–
        function openVisualizer() {
            showNotification('ç®—æ³•å¯è§†åŒ–å³å°†æ¨å‡º', 'success');
        }
        
        // æ‰“å¼€çŸ¥è¯†æµ‹éªŒ
        function openQuiz() {
            // æ»šåŠ¨åˆ°æµ‹éªŒéƒ¨åˆ†
            document.getElementById('chapter-quiz').scrollIntoView({ behavior: 'smooth' });
            showNotification('å·²è·³è½¬åˆ°çŸ¥è¯†æµ‹éªŒ', 'success');
        }
        
        // æ˜¾ç¤ºç§»åŠ¨ç‰ˆ
        function showMobileApp() {
            window.location.href = 'mobile-app.html';
        }
        
        // æ˜¾ç¤ºé€šçŸ¥
        function showNotification(message, type = 'success', duration = 3000) {
            const notification = document.getElementById('notification');
            if (!notification) return;
            
            notification.textContent = message;
            notification.className = `notification ${type}`;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, duration);
        }
    </script>
</body>
</html>