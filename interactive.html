<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n-key="interactive.title">äº’å‹•ç·´ç¿’ - SQL & Python è¨“ç·´ç‡Ÿ</title>
    <script src="lang.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.4.3/echarts.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5.65.16/lib/codemirror.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5.65.16/mode/sql/sql.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/codemirror@5.65.16/lib/codemirror.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/codemirror@5.65.16/theme/monokai.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-dark: #0f172a;
            --primary-blue: #00f5ff;
            --primary-purple: #6366f1;
            --accent-green: #10b981;
            --accent-orange: #f59e0b;
            --text-light: #f8fafc;
            --text-gray: #94a3b8;
            --gradient-primary: linear-gradient(135deg, #00f5ff 0%, #6366f1 100%);
            --gradient-secondary: linear-gradient(135deg, #10b981 0%, #059669 100%);
            --gradient-accent: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        }
        
        * {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        }
        
        .font-mono {
            font-family: 'JetBrains Mono', monospace;
        }
        
        body {
            background: var(--primary-dark);
            color: var(--text-light);
            overflow-x: hidden;
        }
        
        .gradient-text {
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .gradient-text-green {
            background: var(--gradient-secondary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            transition: all 0.3s ease;
        }
        
        .glass-card:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(0, 245, 255, 0.3);
            transform: translateY(-4px);
            box-shadow: 0 12px 40px rgba(0, 245, 255, 0.15);
        }
        
        .btn-primary {
            background: var(--gradient-primary);
            border: none;
            border-radius: 16px;
            color: white;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 245, 255, 0.3);
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 245, 255, 0.4);
        }
        
        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 16px;
            color: white;
            transition: all 0.3s ease;
        }
        
        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }
        
        .nav-link {
            position: relative;
            color: var(--text-gray);
            transition: all 0.3s ease;
        }
        
        .nav-link:hover {
            color: var(--primary-blue);
        }
        
        .nav-link.active {
            color: var(--primary-blue);
        }
        
        .nav-link.active::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--gradient-primary);
            border-radius: 1px;
        }
        
        .exercise-type-card {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .exercise-type-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 40px rgba(0, 245, 255, 0.15);
        }
        
        .drag-item {
            transition: all 0.3s ease;
            cursor: grab;
        }
        
        .drag-item:active {
            cursor: grabbing;
            transform: scale(1.05);
        }
        
        .drag-item.dragging {
            opacity: 0.5;
            transform: rotate(5deg);
        }
        
        .drop-zone {
            min-height: 120px;
            border: 2px dashed rgba(255, 255, 255, 0.3);
            border-radius: 12px;
            transition: all 0.3s ease;
        }
        
        .drop-zone.drag-over {
            border-color: var(--primary-blue);
            background: rgba(0, 245, 255, 0.1);
        }
        
        .drop-zone.correct {
            border-color: var(--accent-green);
            background: rgba(16, 185, 129, 0.1);
        }
        
        .drop-zone.incorrect {
            border-color: #ef4444;
            background: rgba(239, 68, 68, 0.1);
        }
        
        .sortable-item {
            transition: all 0.3s ease;
            cursor: grab;
        }
        
        .sortable-item:hover {
            transform: translateY(-2px);
        }
        
        .sortable-item.dragging {
            opacity: 0.5;
            transform: rotate(3deg);
        }
        
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .modal.active {
            opacity: 1;
            visibility: visible;
        }
        
        .modal-content {
            background: rgba(30, 41, 59, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 32px;
            max-width: 90vw;
            max-height: 90vh;
            overflow-y: auto;
            transform: scale(0.9);
            transition: all 0.3s ease;
        }
        
        .modal.active .modal-content {
            transform: scale(1);
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(30, 41, 59, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 16px 24px;
            color: white;
            font-weight: 500;
            z-index: 3000;
            opacity: 0;
            transform: translateX(100%);
            transition: all 0.3s ease;
        }
        
        .notification.show {
            opacity: 1;
            transform: translateX(0);
        }
        
        .notification.success {
            border-color: rgba(34, 197, 94, 0.5);
            background: rgba(34, 197, 94, 0.1);
        }
        
        .notification.error {
            border-color: rgba(239, 68, 68, 0.5);
            background: rgba(239, 68, 68, 0.1);
        }
        
        .floating-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }
        
        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #00f5ff;
            border-radius: 50%;
            opacity: 0.6;
            animation: float 6s infinite linear;
        }
        
        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.6;
            }
            90% {
                opacity: 0.6;
            }
            100% {
                transform: translateY(-10px) rotate(360deg);
                opacity: 0;
            }
        }
        
        .progress-ring {
            transform: rotate(-90deg);
        }
        
        .progress-ring-circle {
            stroke: rgba(255, 255, 255, 0.1);
            stroke-width: 4;
            fill: transparent;
            r: 36;
            cx: 40;
            cy: 40;
        }
        
        .progress-ring-fill {
            stroke: var(--primary-blue);
            stroke-width: 4;
            fill: transparent;
            r: 36;
            cx: 40;
            cy: 40;
            stroke-dasharray: 226;
            stroke-dashoffset: 226;
            transition: stroke-dashoffset 0.5s ease;
        }
        
        @media (max-width: 768px) {
            .modal-content {
                padding: 20px;
                margin: 10px;
            }
        }
    </style>
</head>
<body>
    <!-- æµ®åŠ¨ç²’å­èƒŒæ™¯ -->
    <div class="floating-particles" id="particles"></div>
    
    <!-- å¯¼èˆªæ  -->
    <nav class="fixed top-0 left-0 right-0 z-50 bg-slate-900/80 backdrop-blur-md border-b border-white/10">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center">
                    <div class="w-10 h-10 rounded-lg bg-gradient-to-r from-green-400 to-teal-500 flex items-center justify-center mr-3">
                        <span class="text-white font-bold text-lg">ğŸ¯</span>
                    </div>
                    <h1 class="text-xl font-bold gradient-text-green" data-i18n-key="interactive.title">äº’å‹•ç·´ç¿’</h1>
                </div>
                <div class="hidden md:flex items-center space-x-8">
                    <a href="index.html" class="nav-link" data-i18n-key="nav.home">é¦–é </a>
                    <a href="practice.html" class="nav-link" data-i18n-key="nav.practice">é¡Œåº«ç·´ç¿’</a>
                    <a href="python-center.html" class="nav-link" data-i18n-key="nav.python">Pythonä¸­å¿ƒ</a>
                    <a href="all-practice.html" class="nav-link" data-i18n-key="nav.allPractice">ç¶œåˆç·´ç¿’</a>
                    <a href="#" class="nav-link active" data-i18n-key="nav.interactive">äº’å‹•ç·´ç¿’</a>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="flex items-center space-x-2">
                        <span class="text-xs text-gray-400" data-i18n-key="lang.label">èªè¨€</span>
                        <select id="lang-switcher" class="bg-slate-800/70 border border-slate-600 rounded px-2 py-1 text-xs focus:outline-none focus:ring-1 focus:ring-green-500">
                            <option value="zh-Hant" data-i18n-key="lang.zhTW">ç¹é«”</option>
                            <option value="zh-Hans" data-i18n-key="lang.zhCN">ç°¡é«”</option>
                            <option value="en" data-i18n-key="lang.en">English</option>
                        </select>
                    </div>
                    <button class="btn-secondary px-4 py-2 text-sm" onclick="showMobileApp()">ç§»å‹•ç‰ˆ</button>
                    <div class="w-8 h-8 rounded-full bg-gradient-to-r from-purple-400 to-pink-500 flex items-center justify-center">
                        <span class="text-white text-sm font-bold">ğŸ‘¤</span>
                    </div>
                </div>
            </div>
        </div>
    </nav>
    
    <!-- ä¸»è¦å†…å®¹ -->
    <div class="pt-20 pb-8">
        <!-- å¤´éƒ¨åŒºåŸŸ -->
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-8">
            <div class="text-center mb-8">
                <h2 class="text-3xl font-bold gradient-text-green mb-4" data-i18n-key="interactive.title">äº’å‹•ç·´ç¿’</h2>
                <p class="text-gray-300 max-w-2xl mx-auto" data-i18n-key="interactive.subtitle">
                    é€éæ‹–æ”¾ã€å¡«ç©ºã€é¸æ“‡é¡Œç­‰å¤šç¨®æ–¹å¼å­¸ç¿’
                </p>
            </div>
            
            <!-- ç»Ÿè®¡å¡ç‰‡ -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                <div class="glass-card p-6 text-center">
                    <div class="text-2xl font-bold gradient-text-green" id="total-exercises">15</div>
                    <div class="text-sm text-gray-300 mt-1" data-i18n-key="interactive.title">äº’å‹•ç·´ç¿’</div>
                </div>
                <div class="glass-card p-6 text-center">
                    <div class="text-2xl font-bold gradient-text-green" id="completed-exercises">0</div>
                    <div class="text-sm text-gray-300 mt-1" data-i18n-key="progress.stats.completed">å·²å®Œæˆ</div>
                </div>
                <div class="glass-card p-6 text-center">
                    <div class="text-2xl font-bold gradient-text-green" id="accuracy-rate">0%</div>
                    <div class="text-sm text-gray-300 mt-1" data-i18n-key="practice.stats.accuracy">æ­£ç¢ºç‡</div>
                </div>
                <div class="glass-card p-6 text-center">
                    <div class="text-2xl font-bold gradient-text-green" id="streak-days">0</div>
                    <div class="text-sm text-gray-300 mt-1" data-i18n-key="progress.stats.currentStreak">é€£çºŒå­¸ç¿’</div>
                </div>
            </div>
        </div>
        
        <!-- é¢˜ç›®è¡¨æ ¼é€‰æ‹© -->
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-8">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-xl font-semibold text-white" data-i18n-key="practice.questionList">é¡Œç›®åˆ—è¡¨</h3>
                <button onclick="toggleQuestionTable()" class="btn-secondary px-4 py-2 text-sm">
                    <span id="table-toggle-text" data-i18n-key="interactive.showTable">é¡¯ç¤ºé¡Œç›®è¡¨æ ¼</span>
                </button>
            </div>
            <div id="question-table-container" class="hidden mb-8">
                <div class="glass-card p-6">
                    <div class="mb-4">
                        <div class="flex items-center space-x-4 mb-4">
                            <select id="filter-type" class="bg-slate-700 border border-gray-600 rounded-lg px-3 py-2 text-white text-sm" onchange="filterQuestions()">
                                <option value="all">æ‰€æœ‰ç±»å‹</option>
                                <option value="drag-drop">æ‹–æ‹½æ’åº</option>
                                <option value="fill-blank">å¡«ç©ºç»ƒä¹ </option>
                                <option value="multiple-choice">é€‰æ‹©é¢˜</option>
                                <option value="code-completion">ä»£ç è¡¥å…¨</option>
                            </select>
                            <select id="filter-language" class="bg-slate-700 border border-gray-600 rounded-lg px-3 py-2 text-white text-sm" onchange="filterQuestions()">
                                <option value="all">æ‰€æœ‰è¯­è¨€</option>
                                <option value="SQL">SQL</option>
                                <option value="Python">Python</option>
                            </select>
                            <button onclick="resetFilters()" class="btn-secondary px-4 py-2 text-sm">é‡ç½®ç­›é€‰</button>
                        </div>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="w-full text-sm">
                            <thead>
                                <tr class="border-b border-gray-700">
                                    <th class="text-left py-3 px-4 text-gray-300">ç±»å‹</th>
                                    <th class="text-left py-3 px-4 text-gray-300">é¢˜ç›®</th>
                                    <th class="text-left py-3 px-4 text-gray-300">è¯­è¨€</th>
                                    <th class="text-left py-3 px-4 text-gray-300">çŠ¶æ€</th>
                                    <th class="text-left py-3 px-4 text-gray-300">æ“ä½œ</th>
                                </tr>
                            </thead>
                            <tbody id="question-table-body">
                                <!-- é¢˜ç›®åˆ—è¡¨å°†åŠ¨æ€ç”Ÿæˆ -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ç»ƒä¹ ç±»å‹é€‰æ‹© -->
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-8">
            <h3 class="text-xl font-semibold text-white mb-6" data-i18n-key="interactive.selectType">é¸æ“‡ç·´ç¿’é¡å‹</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="exercise-type-card glass-card p-6" onclick="startExercise('drag-drop')">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 rounded-lg bg-gradient-to-r from-blue-400 to-cyan-500 flex items-center justify-center mr-4">
                            <span class="text-white text-xl">ğŸ”„</span>
                        </div>
                        <h4 class="text-lg font-semibold text-white" data-i18n-key="interactive.type.dragDrop">æ‹–æ”¾é¡Œ</h4>
                    </div>
                    <p class="text-gray-300 text-sm mb-4">
                        æ‹–æ‹½SQLè¯­å¥æˆ–Pythonä»£ç ç‰‡æ®µåˆ°æ­£ç¡®ä½ç½®ï¼Œå­¦ä¹ è¯­æ³•ç»“æ„å’Œé€»è¾‘é¡ºåºã€‚
                    </p>
                    <div class="flex items-center justify-between">
                        <span class="text-xs bg-blue-500/20 text-blue-300 px-2 py-1 rounded">8ä¸ªç»ƒä¹ </span>
                        <span class="text-cyan-400">â†’</span>
                    </div>
                </div>
                
                <div class="exercise-type-card glass-card p-6" onclick="startExercise('fill-blank')">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 rounded-lg bg-gradient-to-r from-green-400 to-teal-500 flex items-center justify-center mr-4">
                            <span class="text-white text-xl">âœï¸</span>
                        </div>
                        <h4 class="text-lg font-semibold text-white">å¡«ç©ºç»ƒä¹ </h4>
                    </div>
                    <p class="text-gray-300 text-sm mb-4">
                        å¡«å†™SQLæŸ¥è¯¢æˆ–Pythonä»£ç ä¸­çš„ç©ºç™½éƒ¨åˆ†ï¼Œå·©å›ºè¯­æ³•çŸ¥è¯†å’Œå…³é”®å­—è®°å¿†ã€‚
                    </p>
                    <div class="flex items-center justify-between">
                        <span class="text-xs bg-green-500/20 text-green-300 px-2 py-1 rounded">5ä¸ªç»ƒä¹ </span>
                        <span class="text-cyan-400">â†’</span>
                    </div>
                </div>
                
                <div class="exercise-type-card glass-card p-6" onclick="startExercise('multiple-choice')">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 rounded-lg bg-gradient-to-r from-purple-400 to-pink-500 flex items-center justify-center mr-4">
                            <span class="text-white text-xl">ğŸ¯</span>
                        </div>
                        <h4 class="text-lg font-semibold text-white">é€‰æ‹©é¢˜</h4>
                    </div>
                    <p class="text-gray-300 text-sm mb-4">
                        é€‰æ‹©æ­£ç¡®çš„SQLå‡½æ•°ã€Pythonè¯­æ³•æˆ–æ•°æ®åº“æ¦‚å¿µï¼Œæµ‹è¯•ç†è®ºçŸ¥è¯†æŒæ¡ç¨‹åº¦ã€‚
                    </p>
                    <div class="flex items-center justify-between">
                        <span class="text-xs bg-purple-500/20 text-purple-300 px-2 py-1 rounded">10ä¸ªç»ƒä¹ </span>
                        <span class="text-cyan-400">â†’</span>
                    </div>
                </div>
                
                <div class="exercise-type-card glass-card p-6" onclick="startExercise('code-completion')">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 rounded-lg bg-gradient-to-r from-orange-400 to-red-500 flex items-center justify-center mr-4">
                            <span class="text-white text-xl">ğŸ’»</span>
                        </div>
                        <h4 class="text-lg font-semibold text-white">ä»£ç è¡¥å…¨</h4>
                    </div>
                    <p class="text-gray-300 text-sm mb-4">
                        è¡¥å…¨ä¸å®Œæ•´çš„ä»£ç ç‰‡æ®µï¼Œå­¦ä¹ æ­£ç¡®çš„è¯­æ³•ç»“æ„å’Œæœ€ä½³å®è·µã€‚
                    </p>
                    <div class="flex items-center justify-between">
                        <span class="text-xs bg-orange-500/20 text-orange-300 px-2 py-1 rounded">6ä¸ªç»ƒä¹ </span>
                        <span class="text-cyan-400">â†’</span>
                    </div>
                </div>
                
                <div class="exercise-type-card glass-card p-6" onclick="startExercise('error-finding')">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 rounded-lg bg-gradient-to-r from-red-400 to-pink-500 flex items-center justify-center mr-4">
                            <span class="text-white text-xl">ğŸ›</span>
                        </div>
                        <h4 class="text-lg font-semibold text-white">é”™è¯¯æŸ¥æ‰¾</h4>
                    </div>
                    <p class="text-gray-300 text-sm mb-4">
                        åœ¨ç»™å®šçš„ä»£ç ä¸­æ‰¾å‡ºè¯­æ³•é”™è¯¯æˆ–é€»è¾‘é”™è¯¯ï¼ŒåŸ¹å…»è°ƒè¯•å’Œé—®é¢˜è§£å†³èƒ½åŠ›ã€‚
                    </p>
                    <div class="flex items-center justify-between">
                        <span class="text-xs bg-red-500/20 text-red-300 px-2 py-1 rounded">7ä¸ªç»ƒä¹ </span>
                        <span class="text-cyan-400">â†’</span>
                    </div>
                </div>
                
                <div class="exercise-type-card glass-card p-6" onclick="startExercise('mixed-challenge')">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 rounded-lg bg-gradient-to-r from-yellow-400 to-orange-500 flex items-center justify-center mr-4">
                            <span class="text-white text-xl">ğŸ†</span>
                        </div>
                        <h4 class="text-lg font-semibold text-white">æ··åˆæŒ‘æˆ˜</h4>
                    </div>
                    <p class="text-gray-300 text-sm mb-4">
                        ç»¼åˆå¤šç§ç»ƒä¹ ç±»å‹çš„æŒ‘æˆ˜æ¨¡å¼ï¼Œæµ‹è¯•å…¨é¢çš„ç¼–ç¨‹æŠ€èƒ½å’ŒçŸ¥è¯†æŒæ¡ã€‚
                    </p>
                    <div class="flex items-center justify-between">
                        <span class="text-xs bg-yellow-500/20 text-yellow-300 px-2 py-1 rounded">3ä¸ªæŒ‘æˆ˜</span>
                        <span class="text-cyan-400">â†’</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ä»Šæ—¥æ¨è -->
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-8">
            <h3 class="text-xl font-semibold text-white mb-6">ä»Šæ—¥æ¨è</h3>
            <div class="glass-card p-6">
                <div class="flex items-start">
                    <div class="w-16 h-16 rounded-lg bg-gradient-to-br from-cyan-400 to-blue-600 flex items-center justify-center mr-6 flex-shrink-0">
                        <span class="text-white text-2xl">ğŸ”¥</span>
                    </div>
                    <div class="flex-1">
                        <h4 class="text-xl font-semibold text-white mb-2">SQL JOIN æ‹–æ‹½æŒ‘æˆ˜</h4>
                        <p class="text-gray-300 mb-4">
                            é€šè¿‡æ‹–æ‹½æ“ä½œå­¦ä¹ INNER JOINã€LEFT JOINã€RIGHT JOINçš„æ­£ç¡®è¯­æ³•å’Œä½¿ç”¨åœºæ™¯ï¼ŒæŒæ¡å¤šè¡¨è¿æ¥çš„æ ¸å¿ƒæ¦‚å¿µã€‚
                        </p>
                        <div class="flex items-center space-x-4">
                            <button class="btn-primary px-6 py-2" onclick="startRecommendedExercise()">å¼€å§‹æŒ‘æˆ˜</button>
                            <span class="text-sm text-gray-400">â±ï¸ çº¦15åˆ†é’Ÿ</span>
                            <span class="text-sm text-gray-400">ğŸ“Š ä¸­çº§éš¾åº¦</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- å­¦ä¹ è¿›åº¦ -->
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-8">
            <h3 class="text-xl font-semibold text-white mb-6">å­¦ä¹ è¿›åº¦</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="glass-card p-6">
                    <div class="flex items-center justify-between mb-4">
                        <h4 class="text-lg font-semibold text-white">SQL ç»ƒä¹ è¿›åº¦</h4>
                        <span class="text-sm text-gray-400">8/15 å®Œæˆ</span>
                    </div>
                    <div class="progress-bar mb-2">
                        <div class="progress-fill" style="width: 53%"></div>
                    </div>
                    <div class="flex items-center justify-between text-sm">
                        <span class="text-gray-300">æ­£ç¡®ç‡: 87%</span>
                        <span class="text-gray-300">å¹³å‡ç”¨æ—¶: 3.2åˆ†é’Ÿ</span>
                    </div>
                </div>
                
                <div class="glass-card p-6">
                    <div class="flex items-center justify-between mb-4">
                        <h4 class="text-lg font-semibold text-white">Python ç»ƒä¹ è¿›åº¦</h4>
                        <span class="text-sm text-gray-400">5/15 å®Œæˆ</span>
                    </div>
                    <div class="progress-bar mb-2">
                        <div class="progress-fill" style="width: 33%"></div>
                    </div>
                    <div class="flex items-center justify-between text-sm">
                        <span class="text-gray-300">æ­£ç¡®ç‡: 92%</span>
                        <span class="text-gray-300">å¹³å‡ç”¨æ—¶: 2.8åˆ†é’Ÿ</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- ç»ƒä¹ æ¨¡æ€æ¡† -->
    <div id="exercise-modal" class="modal">
        <div class="modal-content w-full max-w-4xl">
            <div class="flex items-center justify-between mb-6">
                <div class="flex-1">
                    <h3 class="text-2xl font-bold gradient-text-green" id="exercise-title">äº’åŠ¨ç»ƒä¹ </h3>
                    <div class="flex items-center space-x-4 mt-2">
                        <span class="text-sm text-gray-400" id="exercise-progress">é¢˜ç›® 1 / 1</span>
                        <label class="flex items-center space-x-2 text-sm text-gray-400">
                            <input type="checkbox" id="auto-next" checked>
                            <span>è‡ªåŠ¨è·³è½¬ä¸‹ä¸€é¢˜</span>
                        </label>
                    </div>
                </div>
                <button onclick="closeExerciseModal()" class="text-gray-400 hover:text-white text-2xl">âœ•</button>
            </div>
            <div id="exercise-content">
                <!-- ç»ƒä¹ å†…å®¹å°†åŠ¨æ€åŠ è½½ -->
            </div>
            <div class="flex items-center justify-between mt-6 pt-4 border-t border-gray-700">
                <button onclick="previousQuestion()" class="btn-secondary px-6 py-2" id="prev-btn" disabled>ä¸Šä¸€é¢˜</button>
                <button onclick="nextQuestion()" class="btn-primary px-6 py-2" id="next-btn">ä¸‹ä¸€é¢˜</button>
            </div>
        </div>
    </div>
    
    <!-- é€šçŸ¥ç»„ä»¶ -->
    <div id="notification" class="notification"></div>
    
    <!-- å¼•å…¥ç”¨æˆ·API -->
    <script src="user-api.js"></script>
    
    <script>
        // å…¨å±€å˜é‡
        let currentExerciseType = '';
        let currentQuestionIndex = 0;
        let userProgress = JSON.parse(localStorage.getItem('interactiveProgress') || '{}');
        let exerciseData = {};
        let allQuestions = []; // æ‰€æœ‰é¢˜ç›®çš„æ‰å¹³åŒ–åˆ—è¡¨
        let filteredQuestions = []; // ç­›é€‰åçš„é¢˜ç›®åˆ—è¡¨
        
        // åŠ è½½è¿›åº¦ï¼ˆä¼˜å…ˆä»åç«¯ï¼Œå¦‚æœå¤±è´¥åˆ™ä½¿ç”¨æœ¬åœ°ï¼‰
        async function loadProgress() {
            // å…ˆå°è¯•ä»åç«¯åŠ è½½
            if (typeof UserAPI !== 'undefined' && UserAPI.isLoggedIn && UserAPI.isLoggedIn()) {
                try {
                    const result = await UserAPI.getInteractiveProgress();
                    if (result.success && result.progress) {
                        userProgress = result.progress;
                        localStorage.setItem('interactiveProgress', JSON.stringify(userProgress));
                        console.log('ä»åç«¯åŠ è½½è¿›åº¦æˆåŠŸ');
                        return;
                    }
                } catch (error) {
                    console.error('ä»åç«¯åŠ è½½è¿›åº¦å¤±è´¥:', error);
                }
            }
            
            // å¦‚æœåç«¯åŠ è½½å¤±è´¥ï¼Œä½¿ç”¨æœ¬åœ°å­˜å‚¨
            const localProgress = localStorage.getItem('interactiveProgress');
            if (localProgress) {
                userProgress = JSON.parse(localProgress);
                console.log('ä»æœ¬åœ°åŠ è½½è¿›åº¦');
            }
        }
        
        // ä¿å­˜è¿›åº¦åˆ°åç«¯
        async function saveProgress() {
            // å…ˆä¿å­˜åˆ°localStorageï¼ˆç«‹å³åé¦ˆï¼‰
            localStorage.setItem('interactiveProgress', JSON.stringify(userProgress));
            
            // å¦‚æœå·²ç™»å½•ï¼Œå°è¯•ä¿å­˜åˆ°åç«¯
            if (typeof UserAPI !== 'undefined' && UserAPI.isLoggedIn && UserAPI.isLoggedIn()) {
                try {
                    const result = await UserAPI.saveInteractiveProgress(userProgress);
                    if (result.success) {
                        console.log('è¿›åº¦å·²ä¿å­˜åˆ°åç«¯');
                    } else if (result.saved_locally) {
                        console.log('åç«¯ä¿å­˜å¤±è´¥ï¼Œå·²ä¿å­˜åˆ°æœ¬åœ°');
                    }
                } catch (error) {
                    console.error('ä¿å­˜è¿›åº¦åˆ°åç«¯å¤±è´¥:', error);
                }
            }
        }
        
        // ç»ƒä¹ æ•°æ®
        const exercises = {
            'drag-drop': [
                {
                    title: 'SQL JOIN è¯­å¥æ’åº',
                    description: 'å°†ä»¥ä¸‹SQL JOINè¯­å¥çš„ç»„æˆéƒ¨åˆ†æ‹–æ‹½åˆ°æ­£ç¡®ä½ç½®',
                    items: ['SELECT * FROM users', 'LEFT JOIN orders', 'ON users.id = orders.user_id', 'WHERE users.active = 1'],
                    correctOrder: [0, 1, 2, 3],
                    explanation: 'æ­£ç¡®çš„JOINè¯­å¥é¡ºåºæ˜¯ï¼šSELECT -> FROM -> JOIN -> ON -> WHERE'
                },
                {
                    title: 'Python å‡½æ•°å®šä¹‰æ’åº',
                    description: 'å°†Pythonå‡½æ•°å®šä¹‰çš„å„ä¸ªéƒ¨åˆ†æŒ‰æ­£ç¡®é¡ºåºæ’åˆ—',
                    items: ['def calculate_area(radius):', 'return area', 'area = 3.14 * radius ** 2', ' """è®¡ç®—åœ†çš„é¢ç§¯"""'],
                    correctOrder: [0, 3, 2, 1],
                    explanation: 'Pythonå‡½æ•°å®šä¹‰é¡ºåºï¼šdef -> æ–‡æ¡£å­—ç¬¦ä¸² -> å‡½æ•°ä½“ -> return'
                },
                {
                    title: 'SQL SELECT å®Œæ•´æŸ¥è¯¢æ’åº',
                    description: 'å°†SQL SELECTæŸ¥è¯¢è¯­å¥æŒ‰æ­£ç¡®é¡ºåºæ’åˆ—',
                    items: ['SELECT name, score', 'FROM students', 'WHERE score >= 80', 'ORDER BY score DESC'],
                    correctOrder: [0, 1, 2, 3],
                    explanation: 'SQLæŸ¥è¯¢é¡ºåºï¼šSELECT -> FROM -> WHERE -> ORDER BY'
                },
                {
                    title: 'Python if-else æ¡ä»¶è¯­å¥æ’åº',
                    description: 'å°†Pythonæ¡ä»¶è¯­å¥æŒ‰æ­£ç¡®é¡ºåºæ’åˆ—',
                    items: ['if age >= 18:', 'print("æˆå¹´äºº")', 'else:', 'print("æœªæˆå¹´äºº")'],
                    correctOrder: [0, 1, 2, 3],
                    explanation: 'Pythonæ¡ä»¶è¯­å¥é¡ºåºï¼šif -> ifä»£ç å— -> else -> elseä»£ç å—'
                },
                {
                    title: 'SQL GROUP BY èšåˆæŸ¥è¯¢æ’åº',
                    description: 'å°†SQLèšåˆæŸ¥è¯¢è¯­å¥æŒ‰æ­£ç¡®é¡ºåºæ’åˆ—',
                    items: ['SELECT class, AVG(score)', 'FROM students', 'GROUP BY class', 'HAVING AVG(score) > 75'],
                    correctOrder: [0, 1, 2, 3],
                    explanation: 'SQLèšåˆæŸ¥è¯¢é¡ºåºï¼šSELECT -> FROM -> GROUP BY -> HAVING'
                },
                {
                    title: 'Python åˆ—è¡¨æ¨å¯¼å¼æ’åº',
                    description: 'å°†Pythonåˆ—è¡¨æ¨å¯¼å¼æŒ‰æ­£ç¡®é¡ºåºæ’åˆ—',
                    items: ['squares = [', 'x**2', 'for x in range(10)', 'if x % 2 == 0]'],
                    correctOrder: [0, 1, 2, 3],
                    explanation: 'åˆ—è¡¨æ¨å¯¼å¼é¡ºåºï¼šå¼€å§‹ -> è¡¨è¾¾å¼ -> forå¾ªç¯ -> æ¡ä»¶ï¼ˆå¯é€‰ï¼‰-> ç»“æŸ'
                },
                {
                    title: 'SQL å­æŸ¥è¯¢æ’åº',
                    description: 'å°†SQLå­æŸ¥è¯¢è¯­å¥æŒ‰æ­£ç¡®é¡ºåºæ’åˆ—',
                    items: ['SELECT name', 'FROM students', 'WHERE score >', '(SELECT AVG(score) FROM students)'],
                    correctOrder: [0, 1, 2, 3],
                    explanation: 'å­æŸ¥è¯¢é¡ºåºï¼šå¤–å±‚SELECT -> FROM -> WHERE -> å­æŸ¥è¯¢'
                },
                {
                    title: 'Python try-except å¼‚å¸¸å¤„ç†æ’åº',
                    description: 'å°†Pythonå¼‚å¸¸å¤„ç†è¯­å¥æŒ‰æ­£ç¡®é¡ºåºæ’åˆ—',
                    items: ['try:', 'result = 10 / 0', 'except ZeroDivisionError:', 'print("é™¤æ•°ä¸èƒ½ä¸ºé›¶")'],
                    correctOrder: [0, 1, 2, 3],
                    explanation: 'å¼‚å¸¸å¤„ç†é¡ºåºï¼štry -> å¯èƒ½å‡ºé”™çš„ä»£ç  -> except -> å¼‚å¸¸å¤„ç†ä»£ç '
                },
                {
                    title: 'Python è´¨æ•°åˆ¤æ–­ç®—æ³•æ’åºï¼ˆè¯¾é¢˜ä¸€ï¼‰',
                    description: 'å°†è´¨æ•°åˆ¤æ–­ç®—æ³•çš„ä»£ç æŒ‰æ­£ç¡®é¡ºåºæ’åˆ—',
                    items: ['if n < 2:', 'return False', 'for i in range(2, int(n**0.5) + 1):', 'if n % i == 0:'],
                    correctOrder: [0, 1, 2, 3],
                    explanation: 'è´¨æ•°åˆ¤æ–­ï¼šå…ˆæ£€æŸ¥å°äº2çš„æƒ…å†µ -> è¿”å›False -> å¾ªç¯æ£€æŸ¥ -> æ£€æŸ¥æ˜¯å¦èƒ½æ•´é™¤'
                },
                {
                    title: 'Python åè¿›åˆ¶è½¬äºŒè¿›åˆ¶æ’åºï¼ˆè¯¾é¢˜ä¸€ï¼‰',
                    description: 'å°†åè¿›åˆ¶è½¬äºŒè¿›åˆ¶çš„ç®—æ³•æŒ‰æ­£ç¡®é¡ºåºæ’åˆ—',
                    items: ['binary = ""', 'while n > 0:', 'binary = str(n % 2) + binary', 'n = n // 2'],
                    correctOrder: [0, 1, 2, 3],
                    explanation: 'è½¬æ¢é¡ºåºï¼šåˆå§‹åŒ– -> å¾ªç¯æ¡ä»¶ -> å–ä½™æ•° -> æ•´é™¤'
                },
                {
                    title: 'Python åµŒå¥—å¾ªç¯æ’åºï¼ˆè¯¾é¢˜ä¸‰ï¼‰',
                    description: 'å°†åµŒå¥—å¾ªç¯çš„ä¹ä¹ä¹˜æ³•è¡¨ä»£ç æŒ‰æ­£ç¡®é¡ºåºæ’åˆ—',
                    items: ['for i in range(1, 11):', 'for j in range(1, 11):', 'print(f"{i} x {j} = {i*j}", end="\\t")', 'print()'],
                    correctOrder: [0, 1, 2, 3],
                    explanation: 'åµŒå¥—å¾ªç¯ï¼šå¤–å±‚å¾ªç¯ -> å†…å±‚å¾ªç¯ -> æ‰“å°ç»“æœ -> æ¢è¡Œ'
                },
                {
                    title: 'Python å‡½æ•°è°ƒç”¨æ’åºï¼ˆè¯¾é¢˜å››ï¼‰',
                    description: 'å°†å‡½æ•°å®šä¹‰å’Œè°ƒç”¨çš„ä»£ç æŒ‰æ­£ç¡®é¡ºåºæ’åˆ—',
                    items: ['def calculate_average(numbers):', 'return sum(numbers) / len(numbers)', 'numbers = [10, 20, 30]', 'avg = calculate_average(numbers)'],
                    correctOrder: [0, 1, 2, 3],
                    explanation: 'å‡½æ•°ä½¿ç”¨é¡ºåºï¼šå®šä¹‰å‡½æ•° -> å‡½æ•°ä½“ -> å‡†å¤‡æ•°æ® -> è°ƒç”¨å‡½æ•°'
                },
                {
                    title: 'Python å †æ ˆæ“ä½œæ’åºï¼ˆè¯¾é¢˜äº”ï¼‰',
                    description: 'å°†å †æ ˆçš„pushå’Œpopæ“ä½œæŒ‰æ­£ç¡®é¡ºåºæ’åˆ—',
                    items: ['stack = []', 'stack.append(item)', 'if len(stack) == 0:', 'return stack.pop()'],
                    correctOrder: [0, 1, 2, 3],
                    explanation: 'å †æ ˆæ“ä½œï¼šåˆå§‹åŒ– -> å…¥æ ˆ -> æ£€æŸ¥ç©ºæ ˆ -> å‡ºæ ˆ'
                },
                {
                    title: 'Python äºŒåˆ†æŸ¥æ‰¾æ’åºï¼ˆè¯¾é¢˜å…­ï¼‰',
                    description: 'å°†äºŒåˆ†æŸ¥æ‰¾ç®—æ³•çš„ä»£ç æŒ‰æ­£ç¡®é¡ºåºæ’åˆ—',
                    items: ['left, right = 0, len(arr) - 1', 'while left <= right:', 'mid = (left + right) // 2', 'if arr[mid] == target:'],
                    correctOrder: [0, 1, 2, 3],
                    explanation: 'äºŒåˆ†æŸ¥æ‰¾ï¼šåˆå§‹åŒ–è¾¹ç•Œ -> å¾ªç¯æ¡ä»¶ -> è®¡ç®—ä¸­ç‚¹ -> æ¯”è¾ƒç›®æ ‡å€¼'
                },
                {
                    title: 'Python æ–‡ä»¶è¯»å–æ’åºï¼ˆè¯¾é¢˜ä¸ƒï¼‰',
                    description: 'å°†æ–‡ä»¶è¯»å–çš„ä»£ç æŒ‰æ­£ç¡®é¡ºåºæ’åˆ—',
                    items: ['with open(filename, "r") as f:', 'for line in f:', 'row = line.strip().split(",")', 'data.append(row)'],
                    correctOrder: [0, 1, 2, 3],
                    explanation: 'æ–‡ä»¶è¯»å–ï¼šæ‰“å¼€æ–‡ä»¶ -> éå†è¡Œ -> å¤„ç†æ•°æ® -> æ·»åŠ åˆ°åˆ—è¡¨'
                }
            ],
            'fill-blank': [
                {
                    title: 'SQL æŸ¥è¯¢å¡«ç©º',
                    description: 'å¡«å†™æ­£ç¡®çš„SQLå…³é”®å­—',
                    question: 'SELECT name, email ___ users ___ age > 18;',
                    answer: 'FROM WHERE',
                    explanation: 'FROMæŒ‡å®šè¡¨åï¼ŒWHEREæ·»åŠ æ¡ä»¶'
                },
                {
                    title: 'Python å¾ªç¯å¡«ç©º',
                    description: 'å¡«å†™æ­£ç¡®çš„Pythonå¾ªç¯è¯­æ³•',
                    question: 'for i in ___ 10):\n    print(f"ç¬¬{i}æ¬¡å¾ªç¯")',
                    answer: 'range(',
                    explanation: 'Pythonä½¿ç”¨range()å‡½æ•°ç”Ÿæˆæ•°å­—åºåˆ—'
                },
                {
                    title: 'SQL èšåˆå‡½æ•°å¡«ç©º',
                    description: 'å¡«å†™æ­£ç¡®çš„SQLèšåˆå‡½æ•°',
                    question: 'SELECT ___ (score) AS avg_score, ___ (score) AS max_score FROM students;',
                    answer: 'AVG MAX',
                    explanation: 'AVG()è®¡ç®—å¹³å‡å€¼ï¼ŒMAX()æ‰¾å‡ºæœ€å¤§å€¼'
                },
                {
                    title: 'Python åˆ—è¡¨æ“ä½œå¡«ç©º',
                    description: 'å¡«å†™æ­£ç¡®çš„Pythonåˆ—è¡¨æ–¹æ³•',
                    question: 'numbers = [1, 2, 3]\nnumbers.___(4)  # æ·»åŠ å…ƒç´ \nnumbers.___(0)  # åˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´ ',
                    answer: 'append pop',
                    explanation: 'append()åœ¨åˆ—è¡¨æœ«å°¾æ·»åŠ å…ƒç´ ï¼Œpop()åˆ é™¤å¹¶è¿”å›æŒ‡å®šä½ç½®çš„å…ƒç´ '
                },
                {
                    title: 'SQL è¿æ¥æŸ¥è¯¢å¡«ç©º',
                    description: 'å¡«å†™æ­£ç¡®çš„SQLè¿æ¥å…³é”®å­—',
                    question: 'SELECT u.name, o.total FROM users u ___ JOIN orders o ___ u.id = o.user_id;',
                    answer: 'INNER ON',
                    explanation: 'INNER JOINè¿›è¡Œå†…è¿æ¥ï¼ŒONæŒ‡å®šè¿æ¥æ¡ä»¶'
                },
                {
                    title: 'Python å­—å…¸æ“ä½œå¡«ç©º',
                    description: 'å¡«å†™æ­£ç¡®çš„Pythonå­—å…¸æ“ä½œ',
                    question: 'student = {"name": "å¼ ä¸‰", "age": 20}\nprint(student.___("name"))  # è·å–å€¼\nstudent.___("score", 95)  # æ·»åŠ é”®å€¼å¯¹',
                    answer: 'get update',
                    explanation: 'get()è·å–å­—å…¸å€¼ï¼Œupdate()æ›´æ–°å­—å…¸'
                },
                {
                    title: 'SQL æ’åºå¡«ç©º',
                    description: 'å¡«å†™æ­£ç¡®çš„SQLæ’åºå…³é”®å­—',
                    question: 'SELECT * FROM products ___ BY price ___;',
                    answer: 'ORDER DESC',
                    explanation: 'ORDER BYç”¨äºæ’åºï¼ŒDESCè¡¨ç¤ºé™åº'
                },
                {
                    title: 'Python å­—ç¬¦ä¸²æ–¹æ³•å¡«ç©º',
                    description: 'å¡«å†™æ­£ç¡®çš„Pythonå­—ç¬¦ä¸²æ–¹æ³•',
                    question: 'text = "  Hello World  "\ncleaned = text.___()  # å»é™¤é¦–å°¾ç©ºæ ¼\nupper_text = text.___()  # è½¬ä¸ºå¤§å†™',
                    answer: 'strip upper',
                    explanation: 'strip()å»é™¤é¦–å°¾ç©ºç™½ï¼Œupper()è½¬ä¸ºå¤§å†™'
                },
                {
                    title: 'Python è¾“å…¥è¾“å‡ºå¡«ç©ºï¼ˆè¯¾é¢˜ä¸€ï¼‰',
                    description: 'å¡«å†™æ­£ç¡®çš„Pythonè¾“å…¥è¾“å‡ºå‡½æ•°',
                    question: 'name = ___(___("è¯·è¾“å…¥å§“åï¼š"))\n___(f"æ‚¨å¥½ï¼Œ{name}ï¼")',
                    answer: 'input print',
                    explanation: 'input()è·å–ç”¨æˆ·è¾“å…¥ï¼Œprint()è¾“å‡ºä¿¡æ¯'
                },
                {
                    title: 'Python è´¨æ•°åˆ¤æ–­å¡«ç©ºï¼ˆè¯¾é¢˜ä¸€ï¼‰',
                    description: 'å¡«å†™æ­£ç¡®çš„è´¨æ•°åˆ¤æ–­é€»è¾‘',
                    question: 'def is_prime(n):\n    if n ___ 2:\n        return False\n    for i in range(2, int(n**0.5) + 1):\n        if n ___ i == 0:',
                    answer: '< %',
                    explanation: '< æ¯”è¾ƒå¤§å°ï¼Œ% å–æ¨¡è¿ç®—'
                },
                {
                    title: 'Python å¼‚å¸¸å¤„ç†å¡«ç©ºï¼ˆè¯¾é¢˜äºŒï¼‰',
                    description: 'å¡«å†™æ­£ç¡®çš„å¼‚å¸¸å¤„ç†å…³é”®å­—',
                    question: '___:  \n    result = 10 / 0\n___ ZeroDivisionError:\n    print("é™¤é›¶é”™è¯¯")',
                    answer: 'try except',
                    explanation: 'tryå¼€å§‹å¼‚å¸¸å¤„ç†ï¼Œexceptæ•è·ç‰¹å®šå¼‚å¸¸'
                },
                {
                    title: 'Python åµŒå¥—å¾ªç¯å¡«ç©ºï¼ˆè¯¾é¢˜ä¸‰ï¼‰',
                    description: 'å¡«å†™æ­£ç¡®çš„åµŒå¥—å¾ªç¯ç»“æ„',
                    question: 'for i in range(1, 11):\n    for j in range(1, 11):\n        print(f"{i} x {j} = {i*j}", ___="\\t")\n    ___()',
                    answer: 'end print',
                    explanation: 'endå‚æ•°æ§åˆ¶printä¸æ¢è¡Œï¼Œprint()ç”¨äºæ¢è¡Œ'
                },
                {
                    title: 'Python å‡½æ•°å®šä¹‰å¡«ç©ºï¼ˆè¯¾é¢˜å››ï¼‰',
                    description: 'å¡«å†™æ­£ç¡®çš„å‡½æ•°å®šä¹‰å…³é”®å­—',
                    question: '___ calculate_sum(a, b):\n    ___ a + b',
                    answer: 'def return',
                    explanation: 'defå®šä¹‰å‡½æ•°ï¼Œreturnè¿”å›å€¼'
                },
                {
                    title: 'Python åˆ—è¡¨æ“ä½œå¡«ç©ºï¼ˆè¯¾é¢˜äº”ï¼‰',
                    description: 'å¡«å†™æ­£ç¡®çš„åˆ—è¡¨æ“ä½œæ–¹æ³•',
                    question: 'stack = []\nstack.___(item)  # å…¥æ ˆ\nitem = stack.___()  # å‡ºæ ˆ',
                    answer: 'append pop',
                    explanation: 'append()æ·»åŠ åˆ°æœ«å°¾ï¼Œpop()ç§»é™¤å¹¶è¿”å›æœ€åä¸€ä¸ªå…ƒç´ '
                },
                {
                    title: 'Python æŸ¥æ‰¾ç®—æ³•å¡«ç©ºï¼ˆè¯¾é¢˜å…­ï¼‰',
                    description: 'å¡«å†™æ­£ç¡®çš„æŸ¥æ‰¾ç®—æ³•é€»è¾‘',
                    question: 'def binary_search(arr, target):\n    left, right = 0, len(arr) - 1\n    while left ___ right:\n        mid = (left + right) ___ 2',
                    answer: '<= //',
                    explanation: '<= å¾ªç¯æ¡ä»¶ï¼Œ// æ•´æ•°é™¤æ³•'
                },
                {
                    title: 'Python æ–‡ä»¶æ“ä½œå¡«ç©ºï¼ˆè¯¾é¢˜ä¸ƒï¼‰',
                    description: 'å¡«å†™æ­£ç¡®çš„æ–‡ä»¶æ“ä½œå…³é”®å­—',
                    question: '__ open("data.txt", "r") as f:\n    data = f.___()',
                    answer: 'with read',
                    explanation: 'withç®¡ç†æ–‡ä»¶èµ„æºï¼Œread()è¯»å–æ–‡ä»¶å†…å®¹'
                },
                {
                    title: 'Python å‡¯æ’’å¯†ç å¡«ç©ºï¼ˆè¯¾é¢˜ä¸ƒï¼‰',
                    description: 'å¡«å†™æ­£ç¡®çš„å­—ç¬¦ç¼–ç å‡½æ•°',
                    question: 'def caesar_cipher(text, shift):\n    base = ___(char) if char.isupper() else ___(char)\n    result += ___(...)',
                    answer: 'ord ord chr',
                    explanation: 'ord()è·å–å­—ç¬¦ASCIIç ï¼Œchr()å°†ASCIIç è½¬ä¸ºå­—ç¬¦'
                }
            ],
            'multiple-choice': [
                {
                    title: 'SQL èšåˆå‡½æ•°',
                    question: 'ä»¥ä¸‹å“ªä¸ªå‡½æ•°ç”¨äºè®¡ç®—å¹³å‡å€¼ï¼Ÿ',
                    options: ['COUNT()', 'SUM()', 'AVG()', 'MAX()'],
                    correct: 2,
                    explanation: 'AVG()å‡½æ•°ç”¨äºè®¡ç®—åˆ—çš„å¹³å‡å€¼'
                },
                {
                    title: 'Python æ•°æ®ç±»å‹',
                    question: 'ä»¥ä¸‹å“ªä¸ªæ˜¯Pythonçš„ä¸å¯å˜æ•°æ®ç±»å‹ï¼Ÿ',
                    options: ['List', 'Dictionary', 'Tuple', 'Set'],
                    correct: 2,
                    explanation: 'Tuple(å…ƒç»„)æ˜¯Pythonçš„ä¸å¯å˜æ•°æ®ç±»å‹'
                },
                {
                    title: 'SQL WHERE å­å¥',
                    question: 'ä»¥ä¸‹å“ªä¸ªè¿ç®—ç¬¦ç”¨äºæ¨¡ç³ŠåŒ¹é…ï¼Ÿ',
                    options: ['=', 'LIKE', 'IN', 'BETWEEN'],
                    correct: 1,
                    explanation: 'LIKEè¿ç®—ç¬¦ç”¨äºæ¨¡å¼åŒ¹é…ï¼Œå¸¸é…åˆ%å’Œ_ä½¿ç”¨'
                },
                {
                    title: 'Python å¾ªç¯æ§åˆ¶',
                    question: 'ä»¥ä¸‹å“ªä¸ªå…³é”®å­—ç”¨äºè·³è¿‡å½“å‰å¾ªç¯è¿­ä»£ï¼Ÿ',
                    options: ['break', 'continue', 'pass', 'return'],
                    correct: 1,
                    explanation: 'continueè·³è¿‡å½“å‰è¿­ä»£ï¼Œç»§ç»­ä¸‹ä¸€æ¬¡å¾ªç¯'
                },
                {
                    title: 'SQL JOIN ç±»å‹',
                    question: 'ä»¥ä¸‹å“ªä¸ªJOINä¼šè¿”å›ä¸¤ä¸ªè¡¨çš„æ‰€æœ‰è®°å½•ï¼Ÿ',
                    options: ['INNER JOIN', 'LEFT JOIN', 'RIGHT JOIN', 'FULL OUTER JOIN'],
                    correct: 3,
                    explanation: 'FULL OUTER JOINè¿”å›ä¸¤ä¸ªè¡¨çš„æ‰€æœ‰è®°å½•'
                },
                {
                    title: 'Python å‡½æ•°å‚æ•°',
                    question: 'ä»¥ä¸‹å“ªä¸ªæ˜¯Pythonçš„å¯å˜å‚æ•°ï¼Ÿ',
                    options: ['*args', '**kwargs', 'ä¸¤è€…éƒ½æ˜¯', 'ä¸¤è€…éƒ½ä¸æ˜¯'],
                    correct: 2,
                    explanation: '*argså’Œ**kwargséƒ½æ˜¯å¯å˜å‚æ•°ï¼Œç”¨äºæ¥æ”¶ä¸å®šæ•°é‡çš„å‚æ•°'
                },
                {
                    title: 'SQL å­æŸ¥è¯¢',
                    question: 'å­æŸ¥è¯¢å¯ä»¥å‡ºç°åœ¨ä»¥ä¸‹å“ªä¸ªä½ç½®ï¼Ÿ',
                    options: ['SELECTå­å¥', 'FROMå­å¥', 'WHEREå­å¥', 'ä»¥ä¸Šéƒ½å¯ä»¥'],
                    correct: 3,
                    explanation: 'å­æŸ¥è¯¢å¯ä»¥å‡ºç°åœ¨SELECTã€FROMã€WHEREç­‰å¤šä¸ªä½ç½®'
                },
                {
                    title: 'Python åˆ—è¡¨æ¨å¯¼å¼',
                    question: 'ä»¥ä¸‹å“ªä¸ªåˆ—è¡¨æ¨å¯¼å¼æ˜¯æ­£ç¡®çš„ï¼Ÿ',
                    options: ['[x for x in range(5)]', '[x in range(5)]', '[x: for x in range(5)]', '[x for x: range(5)]'],
                    correct: 0,
                    explanation: 'åˆ—è¡¨æ¨å¯¼å¼è¯­æ³•ï¼š[è¡¨è¾¾å¼ for å˜é‡ in å¯è¿­ä»£å¯¹è±¡]'
                },
                {
                    title: 'SQL ç´¢å¼•',
                    question: 'ç´¢å¼•çš„ä¸»è¦ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ',
                    options: ['å­˜å‚¨æ•°æ®', 'æé«˜æŸ¥è¯¢é€Ÿåº¦', 'ä¿è¯æ•°æ®å”¯ä¸€æ€§', 'åˆ›å»ºè¡¨ç»“æ„'],
                    correct: 1,
                    explanation: 'ç´¢å¼•çš„ä¸»è¦ä½œç”¨æ˜¯æé«˜æŸ¥è¯¢é€Ÿåº¦ï¼Œå‡å°‘å…¨è¡¨æ‰«æ'
                },
                {
                    title: 'Python å¼‚å¸¸å¤„ç†',
                    question: 'ä»¥ä¸‹å“ªä¸ªå¼‚å¸¸è¡¨ç¤ºé™¤é›¶é”™è¯¯ï¼Ÿ',
                    options: ['ValueError', 'TypeError', 'ZeroDivisionError', 'IndexError'],
                    correct: 2,
                    explanation: 'ZeroDivisionErrorè¡¨ç¤ºé™¤é›¶æˆ–æ¨¡é›¶é”™è¯¯'
                },
                {
                    title: 'Python ç®—æ³•åŸºç¡€ï¼ˆè¯¾é¢˜ä¸€ï¼‰',
                    question: 'ä»¥ä¸‹å“ªä¸ªæ˜¯ç®—æ³•çš„åŸºæœ¬ç‰¹æ€§ï¼Ÿ',
                    options: ['æ˜ç¡®æ€§ã€æœ‰é™æ€§ã€æœ‰æ•ˆæ€§', 'å¤æ‚æ€§ã€æ— é™æ€§ã€éšæœºæ€§', 'æ¨¡ç³Šæ€§ã€æ— é™æ€§ã€æœ‰æ•ˆæ€§', 'æ˜ç¡®æ€§ã€æ— é™æ€§ã€éšæœºæ€§'],
                    correct: 0,
                    explanation: 'ç®—æ³•åº”å…·å¤‡æ˜ç¡®æ€§ï¼ˆæ­¥éª¤æ¸…æ™°ï¼‰ã€æœ‰é™æ€§ï¼ˆæœ‰é™æ­¥éª¤ï¼‰ã€æœ‰æ•ˆæ€§ï¼ˆèƒ½è§£å†³é—®é¢˜ï¼‰'
                },
                {
                    title: 'Python æ•°æ®ç±»å‹ï¼ˆè¯¾é¢˜ä¸€ï¼‰',
                    question: 'ä»¥ä¸‹å“ªä¸ªæ˜¯Pythonçš„åŸºæœ¬æ•°æ®ç±»å‹ï¼Ÿ',
                    options: ['int, float, str, bool', 'int, double, string, boolean', 'integer, decimal, text, logic', 'number, decimal, text, bool'],
                    correct: 0,
                    explanation: 'Pythonçš„åŸºæœ¬æ•°æ®ç±»å‹åŒ…æ‹¬ï¼šintï¼ˆæ•´æ•°ï¼‰ã€floatï¼ˆæµ®ç‚¹æ•°ï¼‰ã€strï¼ˆå­—ç¬¦ä¸²ï¼‰ã€boolï¼ˆå¸ƒå°”å€¼ï¼‰'
                },
                {
                    title: 'Python è°ƒè¯•æ–¹æ³•ï¼ˆè¯¾é¢˜äºŒï¼‰',
                    question: 'ä»¥ä¸‹å“ªä¸ªæ˜¯Pythonå¸¸ç”¨çš„è°ƒè¯•æ–¹æ³•ï¼Ÿ',
                    options: ['print()è¾“å‡º', 'æ–­ç‚¹è°ƒè¯•', 'å¼‚å¸¸æ•è·', 'ä»¥ä¸Šéƒ½æ˜¯'],
                    correct: 3,
                    explanation: 'Pythonè°ƒè¯•å¯ä»¥ä½¿ç”¨print()ã€æ–­ç‚¹è°ƒè¯•å™¨ã€try-exceptå¼‚å¸¸æ•è·ç­‰å¤šç§æ–¹æ³•'
                },
                {
                    title: 'Python åµŒå¥—ç»“æ„ï¼ˆè¯¾é¢˜ä¸‰ï¼‰',
                    question: 'ä»¥ä¸‹å…³äºåµŒå¥—å¾ªç¯çš„è¯´æ³•æ­£ç¡®çš„æ˜¯ï¼Ÿ',
                    options: ['å¤–å±‚å¾ªç¯æ‰§è¡Œä¸€æ¬¡ï¼Œå†…å±‚å¾ªç¯æ‰§è¡Œå®Œæ•´', 'å†…å±‚å¾ªç¯æ‰§è¡Œä¸€æ¬¡ï¼Œå¤–å±‚å¾ªç¯æ‰§è¡Œå®Œæ•´', 'å†…å¤–å±‚å¾ªç¯ç‹¬ç«‹æ‰§è¡Œ', 'ä¸èƒ½åµŒå¥—ä½¿ç”¨'],
                    correct: 0,
                    explanation: 'åµŒå¥—å¾ªç¯ä¸­ï¼Œå¤–å±‚å¾ªç¯æ¯æ‰§è¡Œä¸€æ¬¡ï¼Œå†…å±‚å¾ªç¯ä¼šå®Œæ•´æ‰§è¡Œä¸€é'
                },
                {
                    title: 'Python å‡½æ•°å‚æ•°ï¼ˆè¯¾é¢˜å››ï¼‰',
                    question: 'ä»¥ä¸‹å“ªä¸ªæ˜¯Pythonå‡½æ•°çš„å¿…éœ€å‚æ•°ï¼Ÿ',
                    options: ['ä½ç½®å‚æ•°', 'å…³é”®å­—å‚æ•°', 'é»˜è®¤å‚æ•°', 'å¯å˜å‚æ•°'],
                    correct: 0,
                    explanation: 'ä½ç½®å‚æ•°æ˜¯å¿…éœ€å‚æ•°ï¼Œè°ƒç”¨æ—¶å¿…é¡»æä¾›ï¼›å…¶ä»–å‚æ•°éƒ½æ˜¯å¯é€‰çš„'
                },
                {
                    title: 'Python æ•°æ®ç»“æ„ï¼ˆè¯¾é¢˜äº”ï¼‰',
                    question: 'ä»¥ä¸‹å“ªä¸ªæ•°æ®ç»“æ„éµå¾ªåè¿›å…ˆå‡ºï¼ˆLIFOï¼‰åŸåˆ™ï¼Ÿ',
                    options: ['æ ˆï¼ˆStackï¼‰', 'é˜Ÿåˆ—ï¼ˆQueueï¼‰', 'åˆ—è¡¨ï¼ˆListï¼‰', 'å­—å…¸ï¼ˆDictionaryï¼‰'],
                    correct: 0,
                    explanation: 'æ ˆï¼ˆStackï¼‰éµå¾ªåè¿›å…ˆå‡ºï¼ˆLIFOï¼‰åŸåˆ™ï¼Œæœ€åè¿›å…¥çš„å…ƒç´ æœ€å…ˆè¢«å–å‡º'
                },
                {
                    title: 'Python æŸ¥æ‰¾ç®—æ³•ï¼ˆè¯¾é¢˜å…­ï¼‰',
                    question: 'äºŒåˆ†æŸ¥æ‰¾ç®—æ³•è¦æ±‚æ•°æ®å¿…é¡»ï¼Ÿ',
                    options: ['æœ‰åº', 'æ— åº', 'éšæœº', 'é‡å¤'],
                    correct: 0,
                    explanation: 'äºŒåˆ†æŸ¥æ‰¾ç®—æ³•è¦æ±‚æ•°æ®å¿…é¡»æ˜¯æœ‰åºçš„ï¼Œæ‰èƒ½é€šè¿‡æ¯”è¾ƒä¸­ç‚¹å€¼æ¥ç¼©å°æœç´¢èŒƒå›´'
                },
                {
                    title: 'Python æ–‡ä»¶æ“ä½œï¼ˆè¯¾é¢˜ä¸ƒï¼‰',
                    question: 'ä½¿ç”¨withè¯­å¥æ‰“å¼€æ–‡ä»¶çš„ä¼˜ç‚¹æ˜¯ï¼Ÿ',
                    options: ['è‡ªåŠ¨å…³é—­æ–‡ä»¶', 'æé«˜è¯»å–é€Ÿåº¦', 'æ”¯æŒå¤§æ–‡ä»¶', 'ä»¥ä¸Šéƒ½æ˜¯'],
                    correct: 0,
                    explanation: 'withè¯­å¥ä¼šè‡ªåŠ¨ç®¡ç†æ–‡ä»¶èµ„æºï¼Œç¡®ä¿æ–‡ä»¶åœ¨ä½¿ç”¨åè‡ªåŠ¨å…³é—­ï¼Œé¿å…èµ„æºæ³„æ¼'
                },
                {
                    title: 'Python æ’åºç®—æ³•ï¼ˆè¯¾é¢˜å…­ï¼‰',
                    question: 'ä»¥ä¸‹å“ªä¸ªæ’åºç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(nÂ²)ï¼Ÿ',
                    options: ['å†’æ³¡æ’åº', 'å¿«é€Ÿæ’åº', 'å½’å¹¶æ’åº', 'å †æ’åº'],
                    correct: 0,
                    explanation: 'å†’æ³¡æ’åºçš„æ—¶é—´å¤æ‚åº¦æ˜¯O(nÂ²)ï¼Œå…¶ä»–é€‰é¡¹çš„å¹³å‡æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(n log n)'
                },
                {
                    title: 'Python é€’å½’ï¼ˆè¯¾é¢˜å››ï¼‰',
                    question: 'é€’å½’å‡½æ•°å¿…é¡»åŒ…å«ï¼Ÿ',
                    options: ['é€’å½’ç»ˆæ­¢æ¡ä»¶', 'æ— é™å¾ªç¯', 'å…¨å±€å˜é‡', 'å¼‚å¸¸å¤„ç†'],
                    correct: 0,
                    explanation: 'é€’å½’å‡½æ•°å¿…é¡»åŒ…å«é€’å½’ç»ˆæ­¢æ¡ä»¶ï¼ˆåŸºå‡†æƒ…å†µï¼‰ï¼Œå¦åˆ™ä¼šå¯¼è‡´æ— é™é€’å½’'
                },
                {
                    title: 'Python å­—ç¬¦ä¸²å¤„ç†ï¼ˆè¯¾é¢˜ä¸ƒï¼‰',
                    question: 'ä»¥ä¸‹å“ªä¸ªæ–¹æ³•ç”¨äºåˆ†å‰²å­—ç¬¦ä¸²ï¼Ÿ',
                    options: ['split()', 'join()', 'strip()', 'replace()'],
                    correct: 0,
                    explanation: 'split()æ–¹æ³•ç”¨äºå°†å­—ç¬¦ä¸²æŒ‰æŒ‡å®šåˆ†éš”ç¬¦åˆ†å‰²æˆåˆ—è¡¨'
                }
            ],
            'code-completion': [
                {
                    title: 'SQL æŸ¥è¯¢è¡¥å…¨',
                    description: 'è¡¥å…¨ä»¥ä¸‹SQLæŸ¥è¯¢è¯­å¥',
                    question: 'SELECT name, score FROM students WHERE score > ___ ORDER BY score ___;',
                    blanks: [
                        { placeholder: 'è¾“å…¥åˆ†æ•°é˜ˆå€¼', answer: '80', type: 'number' },
                        { placeholder: 'è¾“å…¥æ’åºæ–¹å¼', answer: 'DESC', type: 'keyword' }
                    ],
                    explanation: 'WHEREå­å¥è®¾ç½®æ¡ä»¶ï¼ŒORDER BYæŒ‡å®šæ’åºæ–¹å¼'
                },
                {
                    title: 'Python å‡½æ•°è¡¥å…¨',
                    description: 'è¡¥å…¨ä»¥ä¸‹Pythonå‡½æ•°',
                    question: 'def calculate_average(numbers):\n    total = sum(numbers)\n    count = len(numbers)\n    return total ___ count',
                    blanks: [
                        { placeholder: 'è¾“å…¥è¿ç®—ç¬¦', answer: '/', type: 'operator' }
                    ],
                    explanation: 'ä½¿ç”¨é™¤æ³•è¿ç®—ç¬¦è®¡ç®—å¹³å‡å€¼'
                },
                {
                    title: 'SQL èšåˆæŸ¥è¯¢è¡¥å…¨',
                    description: 'è¡¥å…¨ä»¥ä¸‹SQLèšåˆæŸ¥è¯¢',
                    question: 'SELECT class, ___ (score) AS avg_score FROM students GROUP BY class HAVING ___ (score) > 75;',
                    blanks: [
                        { placeholder: 'è¾“å…¥èšåˆå‡½æ•°', answer: 'AVG', type: 'function' },
                        { placeholder: 'å†æ¬¡è¾“å…¥èšåˆå‡½æ•°', answer: 'AVG', type: 'function' }
                    ],
                    explanation: 'AVG()è®¡ç®—å¹³å‡å€¼ï¼ŒHAVINGç”¨äºè¿‡æ»¤åˆ†ç»„ç»“æœ'
                },
                {
                    title: 'Python åˆ—è¡¨æ“ä½œè¡¥å…¨',
                    description: 'è¡¥å…¨ä»¥ä¸‹Pythonåˆ—è¡¨æ“ä½œ',
                    question: 'numbers = [1, 2, 3, 4, 5]\neven_numbers = [x for x in numbers if x ___ 2 == 0]',
                    blanks: [
                        { placeholder: 'è¾“å…¥è¿ç®—ç¬¦', answer: '%', type: 'operator' }
                    ],
                    explanation: 'ä½¿ç”¨æ¨¡è¿ç®—ç¬¦%åˆ¤æ–­æ˜¯å¦ä¸ºå¶æ•°'
                },
                {
                    title: 'Python è´¨æ•°åˆ¤æ–­è¡¥å…¨ï¼ˆè¯¾é¢˜ä¸€ï¼‰',
                    description: 'è¡¥å…¨è´¨æ•°åˆ¤æ–­å‡½æ•°',
                    question: 'def is_prime(n):\n    if n ___ 2:\n        return False\n    for i in range(2, int(n**___) + 1):',
                    blanks: [
                        { placeholder: 'è¾“å…¥æ¯”è¾ƒè¿ç®—ç¬¦', answer: '<', type: 'operator' },
                        { placeholder: 'è¾“å…¥æŒ‡æ•°', answer: '0.5', type: 'number' }
                    ],
                    explanation: '< æ¯”è¾ƒå¤§å°ï¼Œ0.5 è¡¨ç¤ºå¹³æ–¹æ ¹ï¼ˆn**0.5ï¼‰'
                },
                {
                    title: 'Python å¼‚å¸¸å¤„ç†è¡¥å…¨ï¼ˆè¯¾é¢˜äºŒï¼‰',
                    description: 'è¡¥å…¨å¼‚å¸¸å¤„ç†ä»£ç ',
                    question: '___:\n    result = 10 / 0\n___ ZeroDivisionError as e:\n    print(f"é”™è¯¯ï¼š{e}")',
                    blanks: [
                        { placeholder: 'è¾“å…¥å…³é”®å­—', answer: 'try', type: 'keyword' },
                        { placeholder: 'è¾“å…¥å…³é”®å­—', answer: 'except', type: 'keyword' }
                    ],
                    explanation: 'tryå¼€å§‹å¼‚å¸¸å¤„ç†ï¼Œexceptæ•è·ç‰¹å®šå¼‚å¸¸'
                },
                {
                    title: 'Python åµŒå¥—å¾ªç¯è¡¥å…¨ï¼ˆè¯¾é¢˜ä¸‰ï¼‰',
                    description: 'è¡¥å…¨ä¹ä¹ä¹˜æ³•è¡¨ä»£ç ',
                    question: 'for i in range(1, ___):\n    for j in range(1, ___):\n        print(f"{i} x {j} = {i*j}", end="\\t")\n    print()',
                    blanks: [
                        { placeholder: 'è¾“å…¥æ•°å­—', answer: '11', type: 'number' },
                        { placeholder: 'è¾“å…¥æ•°å­—', answer: '11', type: 'number' }
                    ],
                    explanation: 'range(1, 11)ç”Ÿæˆ1åˆ°10çš„æ•°å­—åºåˆ—'
                },
                {
                    title: 'Python å‡½æ•°å®šä¹‰è¡¥å…¨ï¼ˆè¯¾é¢˜å››ï¼‰',
                    description: 'è¡¥å…¨å‡½æ•°å®šä¹‰',
                    question: '___ calculate_sum(a, b):\n    ___ a + b\n\nresult = calculate_sum(10, 20)',
                    blanks: [
                        { placeholder: 'è¾“å…¥å…³é”®å­—', answer: 'def', type: 'keyword' },
                        { placeholder: 'è¾“å…¥å…³é”®å­—', answer: 'return', type: 'keyword' }
                    ],
                    explanation: 'defå®šä¹‰å‡½æ•°ï¼Œreturnè¿”å›å€¼'
                },
                {
                    title: 'Python å †æ ˆæ“ä½œè¡¥å…¨ï¼ˆè¯¾é¢˜äº”ï¼‰',
                    description: 'è¡¥å…¨å †æ ˆçš„pushå’Œpopæ“ä½œ',
                    question: 'class Stack:\n    def __init__(self):\n        self.items = []\n    def push(self, item):\n        self.items.___(item)\n    def pop(self):\n        if self.is_empty():\n            return None\n        return self.items.___()',
                    blanks: [
                        { placeholder: 'è¾“å…¥æ–¹æ³•å', answer: 'append', type: 'function' },
                        { placeholder: 'è¾“å…¥æ–¹æ³•å', answer: 'pop', type: 'function' }
                    ],
                    explanation: 'append()æ·»åŠ åˆ°åˆ—è¡¨æœ«å°¾ï¼Œpop()ç§»é™¤å¹¶è¿”å›æœ€åä¸€ä¸ªå…ƒç´ '
                },
                {
                    title: 'Python äºŒåˆ†æŸ¥æ‰¾è¡¥å…¨ï¼ˆè¯¾é¢˜å…­ï¼‰',
                    description: 'è¡¥å…¨äºŒåˆ†æŸ¥æ‰¾ç®—æ³•',
                    question: 'def binary_search(arr, target):\n    left, right = 0, len(arr) - 1\n    while left ___ right:\n        mid = (left + right) ___ 2',
                    blanks: [
                        { placeholder: 'è¾“å…¥æ¯”è¾ƒè¿ç®—ç¬¦', answer: '<=', type: 'operator' },
                        { placeholder: 'è¾“å…¥è¿ç®—ç¬¦', answer: '//', type: 'operator' }
                    ],
                    explanation: '<= å¾ªç¯æ¡ä»¶ï¼Œ// æ•´æ•°é™¤æ³•è®¡ç®—ä¸­ç‚¹'
                },
                {
                    title: 'Python æ–‡ä»¶è¯»å–è¡¥å…¨ï¼ˆè¯¾é¢˜ä¸ƒï¼‰',
                    description: 'è¡¥å…¨æ–‡ä»¶è¯»å–ä»£ç ',
                    question: '__ open("data.txt", "r", encoding="utf-8") as f:\n    for line in f:\n        data = line.___().split(",")',
                    blanks: [
                        { placeholder: 'è¾“å…¥å…³é”®å­—', answer: 'with', type: 'keyword' },
                        { placeholder: 'è¾“å…¥æ–¹æ³•å', answer: 'strip', type: 'function' }
                    ],
                    explanation: 'withç®¡ç†æ–‡ä»¶èµ„æºï¼Œstrip()å»é™¤é¦–å°¾ç©ºç™½å­—ç¬¦'
                },
                {
                    title: 'Python æ’åºç®—æ³•è¡¥å…¨ï¼ˆè¯¾é¢˜å…­ï¼‰',
                    description: 'è¡¥å…¨å†’æ³¡æ’åºç®—æ³•',
                    question: 'def bubble_sort(arr):\n    n = len(arr)\n    for i in range(n):\n        for j in range(0, n - i - ___):\n            if arr[j] ___ arr[j + 1]:',
                    blanks: [
                        { placeholder: 'è¾“å…¥æ•°å­—', answer: '1', type: 'number' },
                        { placeholder: 'è¾“å…¥æ¯”è¾ƒè¿ç®—ç¬¦', answer: '>', type: 'operator' }
                    ],
                    explanation: '1 è¡¨ç¤ºæ¯æ¬¡å¾ªç¯å‡å°‘ä¸€ä¸ªå…ƒç´ ï¼Œ> æ¯”è¾ƒç›¸é‚»å…ƒç´ å¤§å°'
                }
            ]
        };
        
        // é¡µé¢åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', async function() {
            initializeParticles();
            await loadProgress(); // å¼‚æ­¥åŠ è½½è¿›åº¦
            updateStats();
            buildQuestionList();
            renderQuestionTable();
        });
        
        // æ„å»ºé¢˜ç›®åˆ—è¡¨
        function buildQuestionList() {
            allQuestions = [];
            Object.keys(exercises).forEach(type => {
                exercises[type].forEach((exercise, index) => {
                    const language = exercise.title.includes('Python') || exercise.description.includes('Python') ? 'Python' : 'SQL';
                    allQuestions.push({
                        type: type,
                        index: index,
                        title: exercise.title,
                        description: exercise.description,
                        language: language,
                        exercise: exercise
                    });
                });
            });
            filteredQuestions = [...allQuestions];
        }
        
        // æ¸²æŸ“é¢˜ç›®è¡¨æ ¼
        function renderQuestionTable() {
            const tbody = document.getElementById('question-table-body');
            if (!tbody) return;
            
            tbody.innerHTML = '';
            filteredQuestions.forEach((q, idx) => {
                const progressKey = `${q.type}-${q.index}`;
                const isCompleted = userProgress[progressKey] && userProgress[progressKey].completed;
                const isCorrect = userProgress[progressKey] && userProgress[progressKey].correct;
                
                const tr = document.createElement('tr');
                tr.className = 'border-b border-gray-700 hover:bg-gray-800/50 cursor-pointer';
                tr.onclick = () => selectQuestion(q.type, q.index);
                
                const typeNames = {
                    'drag-drop': 'æ‹–æ‹½æ’åº',
                    'fill-blank': 'å¡«ç©ºç»ƒä¹ ',
                    'multiple-choice': 'é€‰æ‹©é¢˜',
                    'code-completion': 'ä»£ç è¡¥å…¨'
                };
                
                tr.innerHTML = `
                    <td class="py-3 px-4 text-gray-300">${typeNames[q.type] || q.type}</td>
                    <td class="py-3 px-4 text-white">${q.title}</td>
                    <td class="py-3 px-4">
                        <span class="px-2 py-1 rounded text-xs ${q.language === 'Python' ? 'bg-yellow-500/20 text-yellow-300' : 'bg-blue-500/20 text-blue-300'}">
                            ${q.language}
                        </span>
                    </td>
                    <td class="py-3 px-4">
                        ${isCompleted ? 
                            `<span class="px-2 py-1 rounded text-xs ${isCorrect ? 'bg-green-500/20 text-green-300' : 'bg-red-500/20 text-red-300'}">
                                ${isCorrect ? 'âœ“ æ­£ç¡®' : 'âœ— é”™è¯¯'}
                            </span>` : 
                            '<span class="px-2 py-1 rounded text-xs bg-gray-500/20 text-gray-400">æœªå®Œæˆ</span>'
                        }
                    </td>
                    <td class="py-3 px-4">
                        <button onclick="event.stopPropagation(); selectQuestion('${q.type}', ${q.index})" class="btn-primary px-3 py-1 text-xs">
                            å¼€å§‹ç»ƒä¹ 
                        </button>
                    </td>
                `;
                tbody.appendChild(tr);
            });
        }
        
        // åˆ‡æ¢é¢˜ç›®è¡¨æ ¼æ˜¾ç¤º
        function toggleQuestionTable() {
            const container = document.getElementById('question-table-container');
            const toggleText = document.getElementById('table-toggle-text');
            if (container.classList.contains('hidden')) {
                container.classList.remove('hidden');
                toggleText.textContent = 'éšè—é¢˜ç›®è¡¨æ ¼';
            } else {
                container.classList.add('hidden');
                toggleText.textContent = 'æ˜¾ç¤ºé¢˜ç›®è¡¨æ ¼';
            }
        }
        
        // ç­›é€‰é¢˜ç›®
        function filterQuestions() {
            const typeFilter = document.getElementById('filter-type').value;
            const languageFilter = document.getElementById('filter-language').value;
            
            filteredQuestions = allQuestions.filter(q => {
                const typeMatch = typeFilter === 'all' || q.type === typeFilter;
                const languageMatch = languageFilter === 'all' || q.language === languageFilter;
                return typeMatch && languageMatch;
            });
            
            renderQuestionTable();
        }
        
        // é‡ç½®ç­›é€‰
        function resetFilters() {
            document.getElementById('filter-type').value = 'all';
            document.getElementById('filter-language').value = 'all';
            filteredQuestions = [...allQuestions];
            renderQuestionTable();
        }
        
        // é€‰æ‹©é¢˜ç›®
        function selectQuestion(type, index) {
            currentExerciseType = type;
            currentQuestionIndex = index;
            showExercise(exercises[type][index], type);
        }
        
        // åˆå§‹åŒ–ç²’å­èƒŒæ™¯
        function initializeParticles() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = 40;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 6 + 's';
                particle.style.animationDuration = (Math.random() * 3 + 3) + 's';
                particlesContainer.appendChild(particle);
            }
        }
        
        // å¼€å§‹ç»ƒä¹ 
        function startExercise(type) {
            currentExerciseType = type;
            currentQuestionIndex = 0;
            
            if (exercises[type] && exercises[type].length > 0) {
                showExercise(exercises[type][0], type);
            } else {
                showNotification('è¯¥ç»ƒä¹ ç±»å‹å³å°†æ¨å‡º', 'success');
            }
        }
        
        // æ˜¾ç¤ºç»ƒä¹ 
        function showExercise(exercise, type) {
            const modal = document.getElementById('exercise-modal');
            const title = document.getElementById('exercise-title');
            const content = document.getElementById('exercise-content');
            const progress = document.getElementById('exercise-progress');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            
            title.textContent = exercise.title;
            
            // æ›´æ–°è¿›åº¦æ˜¾ç¤º
            const total = exercises[type].length;
            progress.textContent = `é¢˜ç›® ${currentQuestionIndex + 1} / ${total}`;
            
            // æ›´æ–°å¯¼èˆªæŒ‰é’®çŠ¶æ€
            prevBtn.disabled = currentQuestionIndex === 0;
            nextBtn.disabled = currentQuestionIndex >= total - 1;
            
            let contentHTML = '';
            
            switch (type) {
                case 'drag-drop':
                    contentHTML = createDragDropExercise(exercise);
                    break;
                case 'fill-blank':
                    contentHTML = createFillBlankExercise(exercise);
                    break;
                case 'multiple-choice':
                    contentHTML = createMultipleChoiceExercise(exercise);
                    break;
                case 'code-completion':
                    contentHTML = createCodeCompletionExercise(exercise);
                    break;
                default:
                    contentHTML = '<p class="text-gray-300">ç»ƒä¹ å†…å®¹å³å°†æ¨å‡º</p>';
            }
            
            content.innerHTML = contentHTML;
            modal.classList.add('active');
        }
        
        // ä¸Šä¸€é¢˜
        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                showExercise(exercises[currentExerciseType][currentQuestionIndex], currentExerciseType);
            }
        }
        
        // ä¸‹ä¸€é¢˜
        function nextQuestion() {
            const total = exercises[currentExerciseType].length;
            if (currentQuestionIndex < total - 1) {
                currentQuestionIndex++;
                showExercise(exercises[currentExerciseType][currentQuestionIndex], currentExerciseType);
            } else {
                showNotification('å·²ç»æ˜¯æœ€åä¸€é¢˜äº†', 'info');
            }
        }
        
        // è‡ªåŠ¨è·³è½¬ä¸‹ä¸€é¢˜
        function autoNextQuestion() {
            const autoNext = document.getElementById('auto-next');
            if (autoNext && autoNext.checked) {
                setTimeout(() => {
                    nextQuestion();
                }, 1500); // 1.5ç§’åè‡ªåŠ¨è·³è½¬
            }
        }
        
        // åˆ›å»ºæ‹–æ‹½ç»ƒä¹ 
        function createDragDropExercise(exercise) {
            const itemsHTML = exercise.items.map((item, index) => `
                <div class="drag-item glass-card p-3 mb-3 cursor-grab" draggable="true" data-index="${index}">
                    <span class="text-white">${item}</span>
                </div>
            `).join('');
            
            const dropZonesHTML = exercise.items.map((_, index) => `
                <div class="drop-zone p-4 mb-3 flex items-center justify-center" data-position="${index}">
                    <span class="text-gray-400">æ­¥éª¤ ${index + 1}</span>
                </div>
            `).join('');
            
            return `
                <div class="mb-6">
                    <p class="text-gray-300 mb-4">${exercise.description}</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <h4 class="text-white font-semibold mb-3">æ‹–æ‹½é¡¹ç›®</h4>
                            <div id="drag-items">
                                ${itemsHTML}
                            </div>
                        </div>
                        <div>
                            <h4 class="text-white font-semibold mb-3">æ­£ç¡®é¡ºåº</h4>
                            <div id="drop-zones">
                                ${dropZonesHTML}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="flex justify-center space-x-4">
                    <button class="btn-primary px-6 py-2" onclick="checkDragDropAnswer()">æ£€æŸ¥ç­”æ¡ˆ</button>
                    <button class="btn-secondary px-6 py-2" onclick="resetDragDrop()">é‡ç½®</button>
                </div>
                <div id="drag-result" class="mt-4 hidden"></div>
            `;
        }
        
        // åˆ›å»ºå¡«ç©ºç»ƒä¹ 
        function createFillBlankExercise(exercise) {
            const parts = exercise.question.split('___');
            const questionHTML = parts.map((part, index) => `
                <span class="text-gray-300">${part}</span>
                ${index < parts.length - 1 ? '<input type="text" class="bg-slate-700 border border-gray-600 rounded px-2 py-1 mx-1 text-white w-20" placeholder="å¡«ç©º">' : ''}
            `).join('');
            
            return `
                <div class="mb-6">
                    <p class="text-gray-300 mb-4">${exercise.description}</p>
                    <div class="glass-card p-4 mb-4">
                        <div class="flex items-center flex-wrap">
                            ${questionHTML}
                        </div>
                    </div>
                </div>
                <div class="flex justify-center space-x-4">
                    <button class="btn-primary px-6 py-2" onclick="checkFillBlankAnswer('${exercise.answer}')">æ£€æŸ¥ç­”æ¡ˆ</button>
                    <button class="btn-secondary px-6 py-2" onclick="showFillBlankHint('${exercise.explanation}')">æŸ¥çœ‹æç¤º</button>
                </div>
                <div id="fill-result" class="mt-4 hidden"></div>
            `;
        }
        
        // åˆ›å»ºä»£ç è¡¥å…¨ç»ƒä¹ 
        function createCodeCompletionExercise(exercise) {
            const parts = exercise.question.split('___');
            const blanks = exercise.blanks || [];
            const questionHTML = parts.map((part, index) => {
                let html = `<span class="text-gray-300 font-mono">${part}</span>`;
                if (index < blanks.length) {
                    const blank = blanks[index];
                    html += `<input type="text" 
                        class="code-completion-input bg-slate-700 border border-gray-600 rounded px-2 py-1 mx-1 text-white font-mono text-sm w-24" 
                        placeholder="${blank.placeholder}" 
                        data-answer="${blank.answer}"
                        data-index="${index}">`;
                }
                return html;
            }).join('');
            
            return `
                <div class="mb-6">
                    <p class="text-gray-300 mb-4">${exercise.description}</p>
                    <div class="glass-card p-4 mb-4">
                        <pre class="text-gray-300 font-mono text-sm whitespace-pre-wrap">${exercise.question.replace(/___/g, '<span class="bg-yellow-500/20 px-2 rounded">___</span>')}</pre>
                    </div>
                    <div class="glass-card p-4 mb-4">
                        <div class="flex items-center flex-wrap font-mono text-sm">
                            ${questionHTML}
                        </div>
                    </div>
                </div>
                <div class="flex justify-center space-x-4">
                    <button class="btn-primary px-6 py-2" onclick="checkCodeCompletionAnswer()">æ£€æŸ¥ç­”æ¡ˆ</button>
                    <button class="btn-secondary px-6 py-2" onclick="showCodeCompletionHint('${exercise.explanation}')">æŸ¥çœ‹æç¤º</button>
                </div>
                <div id="code-completion-result" class="mt-4 hidden"></div>
            `;
        }
        
        // åˆ›å»ºé€‰æ‹©é¢˜ç»ƒä¹ 
        function createMultipleChoiceExercise(exercise) {
            const optionsHTML = exercise.options.map((option, index) => `
                <div class="quiz-option" onclick="selectMultipleChoiceOption(this, ${index}, ${exercise.correct})">
                    <span class="text-gray-300">${option}</span>
                </div>
            `).join('');
            
            return `
                <div class="mb-6">
                    <p class="text-gray-300 mb-4">${exercise.question}</p>
                    <div class="space-y-3 mb-4">
                        ${optionsHTML}
                    </div>
                </div>
                <div class="flex justify-center space-x-4">
                    <button class="btn-primary px-6 py-2" onclick="submitMultipleChoiceAnswer()">æäº¤ç­”æ¡ˆ</button>
                    <button class="btn-secondary px-6 py-2" onclick="showMultipleChoiceHint('${exercise.explanation}')">æŸ¥çœ‹è§£æ</button>
                </div>
                <div id="choice-result" class="mt-4 hidden"></div>
            `;
        }
        
        // æ‹–æ‹½åŠŸèƒ½
        let draggedElement = null;
        let dropZoneAnswers = {};
        
        document.addEventListener('dragstart', function(e) {
            if (e.target.classList.contains('drag-item')) {
                draggedElement = e.target;
                e.target.classList.add('dragging');
            }
        });
        
        document.addEventListener('dragend', function(e) {
            if (e.target.classList.contains('drag-item')) {
                e.target.classList.remove('dragging');
                draggedElement = null;
            }
        });
        
        document.addEventListener('dragover', function(e) {
            e.preventDefault();
        });
        
        document.addEventListener('dragenter', function(e) {
            if (e.target.classList.contains('drop-zone')) {
                e.target.classList.add('drag-over');
            }
        });
        
        document.addEventListener('dragleave', function(e) {
            if (e.target.classList.contains('drop-zone')) {
                e.target.classList.remove('drag-over');
            }
        });
        
        document.addEventListener('drop', function(e) {
            e.preventDefault();
            if (e.target.classList.contains('drop-zone') && draggedElement) {
                const dropZone = e.target;
                const position = dropZone.dataset.position;
                const itemIndex = draggedElement.dataset.index;
                
                // ä¿å­˜ç­”æ¡ˆ
                dropZoneAnswers[position] = itemIndex;
                
                // æ›´æ–°æ˜¾ç¤º
                dropZone.innerHTML = `<span class="text-white">${draggedElement.textContent}</span>`;
                dropZone.classList.remove('drag-over');
                draggedElement.style.display = 'none';
            }
        });
        
        // æ£€æŸ¥æ‹–æ‹½ç­”æ¡ˆ
        async function checkDragDropAnswer() {
            const exercise = exercises[currentExerciseType][currentQuestionIndex];
            let correct = 0;
            
            exercise.correctOrder.forEach((correctIndex, position) => {
                const dropZone = document.querySelector(`[data-position="${position}"]`);
                if (dropZoneAnswers[position] == correctIndex) {
                    dropZone.classList.add('correct');
                    correct++;
                } else {
                    dropZone.classList.add('incorrect');
                }
            });
            
            const isCorrect = correct === exercise.correctOrder.length;
            const progressKey = `${currentExerciseType}-${currentQuestionIndex}`;
            userProgress[progressKey] = {
                completed: true,
                correct: isCorrect,
                timestamp: Date.now()
            };
            await saveProgress(); // ä¿å­˜åˆ°åç«¯
            
            const resultDiv = document.getElementById('drag-result');
            resultDiv.classList.remove('hidden');
            resultDiv.innerHTML = `
                <div class="glass-card p-4 rounded-lg ${isCorrect ? 'border-green-500' : 'border-red-500'}">
                    <p class="text-white mb-2">æ‚¨ç­”å¯¹äº† ${correct} / ${exercise.correctOrder.length} ä¸ªä½ç½®</p>
                    <p class="text-gray-300 text-sm">${exercise.explanation}</p>
                </div>
            `;
            
            updateProgress();
            renderQuestionTable(); // æ›´æ–°è¡¨æ ¼çŠ¶æ€
            
            // å¦‚æœç­”å¯¹ï¼Œè‡ªåŠ¨è·³è½¬ä¸‹ä¸€é¢˜
            if (isCorrect) {
                autoNextQuestion();
            }
        }
        
        // é‡ç½®æ‹–æ‹½ç»ƒä¹ 
        function resetDragDrop() {
            const exercise = exercises[currentExerciseType][currentQuestionIndex];
            const container = document.getElementById('exercise-content');
            container.innerHTML = createDragDropExercise(exercise);
            dropZoneAnswers = {};
        }
        
        // æ£€æŸ¥å¡«ç©ºç­”æ¡ˆ
        async function checkFillBlankAnswer(correctAnswer) {
            const inputs = document.querySelectorAll('input[type="text"]');
            const userAnswer = Array.from(inputs).map(input => input.value.trim()).join(' ');
            const isCorrect = userAnswer.toLowerCase() === correctAnswer.toLowerCase();
            
            const progressKey = `${currentExerciseType}-${currentQuestionIndex}`;
            userProgress[progressKey] = {
                completed: true,
                correct: isCorrect,
                timestamp: Date.now()
            };
            await saveProgress(); // ä¿å­˜åˆ°åç«¯
            
            const resultDiv = document.getElementById('fill-result');
            resultDiv.classList.remove('hidden');
            resultDiv.innerHTML = `
                <div class="glass-card p-4 rounded-lg ${isCorrect ? 'border-green-500' : 'border-red-500'}">
                    <p class="text-white mb-2">${isCorrect ? 'å›ç­”æ­£ç¡®ï¼' : 'å›ç­”é”™è¯¯'}</p>
                    <p class="text-gray-300 text-sm">${exercises[currentExerciseType][currentQuestionIndex].explanation}</p>
                </div>
            `;
            
            updateProgress();
            renderQuestionTable(); // æ›´æ–°è¡¨æ ¼çŠ¶æ€
            
            // å¦‚æœç­”å¯¹ï¼Œè‡ªåŠ¨è·³è½¬ä¸‹ä¸€é¢˜
            if (isCorrect) {
                autoNextQuestion();
            }
        }
        
        // æ˜¾ç¤ºå¡«ç©ºæç¤º
        function showFillBlankHint(explanation) {
            const resultDiv = document.getElementById('fill-result');
            resultDiv.classList.remove('hidden');
            resultDiv.innerHTML = `
                <div class="glass-card p-4 rounded-lg border-blue-500">
                    <p class="text-gray-300 text-sm">${explanation}</p>
                </div>
            `;
        }
        
        // æ£€æŸ¥ä»£ç è¡¥å…¨ç­”æ¡ˆ
        async function checkCodeCompletionAnswer() {
            const exercise = exercises[currentExerciseType][currentQuestionIndex];
            const inputs = document.querySelectorAll('.code-completion-input');
            let allCorrect = true;
            let correctCount = 0;
            
            inputs.forEach((input, index) => {
                const userAnswer = input.value.trim();
                const correctAnswer = input.dataset.answer;
                const isCorrect = userAnswer.toLowerCase() === correctAnswer.toLowerCase();
                
                if (isCorrect) {
                    input.classList.remove('border-red-500');
                    input.classList.add('border-green-500');
                    correctCount++;
                } else {
                    input.classList.remove('border-green-500');
                    input.classList.add('border-red-500');
                    allCorrect = false;
                }
            });
            
            const progressKey = `${currentExerciseType}-${currentQuestionIndex}`;
            userProgress[progressKey] = {
                completed: true,
                correct: allCorrect,
                timestamp: Date.now()
            };
            await saveProgress(); // ä¿å­˜åˆ°åç«¯
            
            const resultDiv = document.getElementById('code-completion-result');
            resultDiv.classList.remove('hidden');
            resultDiv.innerHTML = `
                <div class="glass-card p-4 rounded-lg ${allCorrect ? 'border-green-500' : 'border-red-500'}">
                    <p class="text-white mb-2">${allCorrect ? 'âœ… å…¨éƒ¨æ­£ç¡®ï¼' : `ç­”å¯¹äº† ${correctCount} / ${inputs.length} ä¸ªç©º`}</p>
                    <p class="text-gray-300 text-sm">${exercise.explanation}</p>
                </div>
            `;
            
            if (allCorrect) {
                updateProgress();
                renderQuestionTable(); // æ›´æ–°è¡¨æ ¼çŠ¶æ€
                autoNextQuestion(); // è‡ªåŠ¨è·³è½¬ä¸‹ä¸€é¢˜
            }
        }
        
        // æ˜¾ç¤ºä»£ç è¡¥å…¨æç¤º
        function showCodeCompletionHint(explanation) {
            const resultDiv = document.getElementById('code-completion-result');
            resultDiv.classList.remove('hidden');
            resultDiv.innerHTML = `
                <div class="glass-card p-4 rounded-lg border-blue-500">
                    <p class="text-gray-300 text-sm">ğŸ’¡ ${explanation}</p>
                </div>
            `;
        }
        
        // é€‰æ‹©é€‰æ‹©é¢˜é€‰é¡¹
        function selectMultipleChoiceOption(element, selectedIndex, correctIndex) {
            const allOptions = element.parentNode.querySelectorAll('.quiz-option');
            allOptions.forEach(option => {
                option.classList.remove('selected', 'correct', 'incorrect');
            });
            
            element.classList.add('selected');
            window.selectedChoice = selectedIndex;
        }
        
        // æäº¤é€‰æ‹©é¢˜ç­”æ¡ˆ
        async function submitMultipleChoiceAnswer() {
            if (window.selectedChoice === undefined) {
                showNotification('è¯·é€‰æ‹©ä¸€ä¸ªé€‰é¡¹', 'error');
                return;
            }
            
            const exercise = exercises[currentExerciseType][currentQuestionIndex];
            const isCorrect = window.selectedChoice === exercise.correct;
            
            const progressKey = `${currentExerciseType}-${currentQuestionIndex}`;
            userProgress[progressKey] = {
                completed: true,
                correct: isCorrect,
                timestamp: Date.now()
            };
            await saveProgress(); // ä¿å­˜åˆ°åç«¯
            
            const allOptions = document.querySelectorAll('.quiz-option');
            allOptions.forEach((option, index) => {
                if (index === exercise.correct) {
                    option.classList.add('correct');
                } else if (index === window.selectedChoice && !isCorrect) {
                    option.classList.add('incorrect');
                }
            });
            
            const resultDiv = document.getElementById('choice-result');
            resultDiv.classList.remove('hidden');
            resultDiv.innerHTML = `
                <div class="glass-card p-4 rounded-lg ${isCorrect ? 'border-green-500' : 'border-red-500'}">
                    <p class="text-white mb-2">${isCorrect ? 'å›ç­”æ­£ç¡®ï¼' : 'å›ç­”é”™è¯¯'}</p>
                    <p class="text-gray-300 text-sm">${exercise.explanation}</p>
                </div>
            `;
            
            updateProgress();
            renderQuestionTable(); // æ›´æ–°è¡¨æ ¼çŠ¶æ€
            
            // å¦‚æœç­”å¯¹ï¼Œè‡ªåŠ¨è·³è½¬ä¸‹ä¸€é¢˜
            if (isCorrect) {
                autoNextQuestion();
            }
        }
        
        // æ˜¾ç¤ºé€‰æ‹©é¢˜æç¤º
        function showMultipleChoiceHint(explanation) {
            const resultDiv = document.getElementById('choice-result');
            resultDiv.classList.remove('hidden');
            resultDiv.innerHTML = `
                <div class="glass-card p-4 rounded-lg border-blue-500">
                    <p class="text-gray-300 text-sm">${explanation}</p>
                </div>
            `;
        }
        
        // æ›´æ–°ç»Ÿè®¡ä¿¡æ¯
        function updateStats() {
            const totalExercises = 15;
            const completedExercises = Object.keys(userProgress).length;
            const correctAnswers = Object.values(userProgress).filter(p => p.correct).length;
            const accuracy = completedExercises > 0 ? Math.round((correctAnswers / completedExercises) * 100) : 0;
            
            document.getElementById('total-exercises').textContent = totalExercises;
            document.getElementById('completed-exercises').textContent = completedExercises;
            document.getElementById('accuracy-rate').textContent = accuracy + '%';
            document.getElementById('streak-days').textContent = userProgress.streak || 0;
        }
        
        // æ›´æ–°è¿›åº¦ï¼ˆä»…æ›´æ–°ç»Ÿè®¡æ˜¾ç¤ºï¼Œä¸ä¿å­˜ï¼‰
        function updateProgress() {
            updateStats();
        }
        
        // å¼€å§‹æ¨èç»ƒä¹ 
        function startRecommendedExercise() {
            startExercise('drag-drop');
        }
        
        // å…³é—­ç»ƒä¹ æ¨¡æ€æ¡†
        function closeExerciseModal() {
            const modal = document.getElementById('exercise-modal');
            modal.classList.remove('active');
            window.selectedChoice = undefined;
        }
        
        // æ˜¾ç¤ºç§»åŠ¨ç‰ˆ
        function showMobileApp() {
            window.location.href = 'mobile-app.html';
        }
        
        // æ˜¾ç¤ºé€šçŸ¥
        function showNotification(message, type = 'success', duration = 3000) {
            const notification = document.getElementById('notification');
            if (!notification) return;
            
            notification.textContent = message;
            notification.className = `notification ${type}`;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, duration);
        }
        
        // ç‚¹å‡»æ¨¡æ€æ¡†å¤–éƒ¨å…³é—­
        document.getElementById('exercise-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeExerciseModal();
            }
        });
        
        // å¯¼å‡ºå‡½æ•°ä¾›HTMLè°ƒç”¨
        // å¯¼å‡ºå‡½æ•°åˆ°å…¨å±€ä½œç”¨åŸŸ
        window.startExercise = startExercise;
        window.closeExerciseModal = closeExerciseModal;
        window.selectQuestion = selectQuestion;
        window.toggleQuestionTable = toggleQuestionTable;
        window.filterQuestions = filterQuestions;
        window.resetFilters = resetFilters;
        window.previousQuestion = previousQuestion;
        window.nextQuestion = nextQuestion;
        window.checkDragDropAnswer = checkDragDropAnswer;
        window.checkFillBlankAnswer = checkFillBlankAnswer;
        window.submitMultipleChoiceAnswer = submitMultipleChoiceAnswer;
        window.checkCodeCompletionAnswer = checkCodeCompletionAnswer;
        window.checkDragDropAnswer = checkDragDropAnswer;
        window.resetDragDrop = resetDragDrop;
        window.checkFillBlankAnswer = checkFillBlankAnswer;
        window.showFillBlankHint = showFillBlankHint;
        window.selectMultipleChoiceOption = selectMultipleChoiceOption;
        window.submitMultipleChoiceAnswer = submitMultipleChoiceAnswer;
        window.showMultipleChoiceHint = showMultipleChoiceHint;
        window.startRecommendedExercise = startRecommendedExercise;
        window.showMobileApp = showMobileApp;
    </script>

    <!-- é è…³ -->
    <footer class="bg-slate-900/80 border-t border-white/10 py-8 mt-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6 text-sm">
                <div>
                    <h4 class="text-white font-semibold mb-3" data-i18n-key="footer.about">é—œæ–¼æˆ‘å€‘</h4>
                    <a href="https://github.com/vvvjb18-lab/dse-sql-python-camp/blob/main/docs/about.md" target="_blank" class="text-green-400 hover:text-green-300 block mb-2" data-i18n-key="footer.about">é—œæ–¼æˆ‘å€‘</a>
                    <a href="https://github.com/vvvjb18-lab/dse-sql-python-camp" target="_blank" class="text-green-400 hover:text-green-300 block" data-i18n-key="footer.github">é–‹æºå°ˆæ¡ˆ</a>
                </div>
                <div>
                    <h4 class="text-white font-semibold mb-3" data-i18n-key="footer.legal">æ³•å¾‹è³‡è¨Š</h4>
                    <a href="https://github.com/vvvjb18-lab/dse-sql-python-camp/blob/main/docs/terms.md" target="_blank" class="text-gray-400 hover:text-green-400 block mb-2" data-i18n-key="footer.terms">ä½¿ç”¨æ¢æ¬¾</a>
                    <a href="https://github.com/vvvjb18-lab/dse-sql-python-camp/blob/main/docs/privacy.md" target="_blank" class="text-gray-400 hover:text-green-400 block" data-i18n-key="footer.privacy">éš±ç§æ”¿ç­–</a>
                </div>
                <div>
                    <h4 class="text-white font-semibold mb-3" data-i18n-key="footer.contact">è¯çµ¡æˆ‘å€‘</h4>
                    <a href="https://github.com/vvvjb18-lab/dse-sql-python-camp/blob/main/docs/contact.md" target="_blank" class="text-gray-400 hover:text-green-400 block mb-2" data-i18n-key="footer.contact">è¯çµ¡æˆ‘å€‘</a>
                    <a href="mailto:yivh5723@gmail.com" class="text-gray-400 hover:text-green-400 block">yivh5723@gmail.com</a>
                </div>
                <div>
                    <h4 class="text-white font-semibold mb-3">é€£çµ</h4>
                    <a href="https://icthelper.duckdns.org" target="_blank" class="text-gray-400 hover:text-green-400 block mb-2">ç·šä¸Šæ¼”ç¤º</a>
                    <a href="https://github.com/vvvjb18-lab/dse-sql-python-camp" target="_blank" class="text-gray-400 hover:text-green-400 block">GitHub</a>
                </div>
            </div>
            <div class="mt-6 pt-6 border-t border-white/10 text-center">
                <p class="text-gray-400 text-xs" data-i18n-key="footer.copyright">Â© 2025 DSE SQL & Python è¨“ç·´ç‡Ÿ</p>
            </div>
        </div>
    </footer>
</body>
</html>